# 5. 接口设计

## 导出实体结构

```sql
SELECT '| No | 字段 | 类型 | 空 | 注释 | 备注 |' AS tbl FROM DUAL
UNION ALL
SELECT '| :--: | :--: | :--: | :--: | :--: | :--: |' AS tbl FROM DUAL
UNION ALL
SELECT CONCAT('| ', ORDINAL_POSITION, ' | ',
                    COLUMN_NAME, ' | ',
                    COLUMN_TYPE, ' | ',
                    IS_NULLABLE, ' | ',
                    COLUMN_COMMENT, ' | ',
                    EXTRA, ' |'
			       ) AS tbl
  FROM `information_schema`.`COLUMNS`
 WHERE TABLE_SCHEMA = '数据库名'
	 AND TABLE_NAME = '表名';
```

##  通用返回状态码

| 序号 | 状态码 |                含义                |
| :--: | :----: | :--------------------------------: |
|  1   |  200   |              操作成功              |
|  2   |  201   |            对象创建成功            |
|  3   |  202   |           请求已经被接受           |
|  4   |  204   | 操作已经执行成功，但是没有返回数据 |
|  5   |  301   |            资源已被移除            |
|  6   |  303   |               重定向               |
|  7   |  304   |           资源没有被修改           |
|  8   |  400   |  参数列表错误（缺少，格式不匹配）  |
|  9   |  401   |               未授权               |
|  10  |  403   |         访问受限，授权过期         |
|  11  |  404   |          资源，服务未找到          |
|  12  |  405   |          不允许的http方法          |
|  13  |  409   |       资源冲突，或者资源被锁       |
|  14  |  415   |       不支持的数据，媒体类型       |
|  15  |  500   |            系统内部错误            |
|  16  |  501   |             接口未实现             |

## 通用返回实体（非分页）AjaxResult

* **类型为HashMap<String, Object>**
* **content-type: application/json;charset=UTF-8**

| 序号 | String |   Object   |    备注    |
| :--: | :----: | :--------: | :--------: |
|  1   |  code  | 消息状态码 |  一定存在  |
|  2   |  msg   |  消息内容  |  一定存在  |
|  3   |  data  |  数据对象  | 不一定存在 |
|  4   | token  |    令牌    | 不一定存在 |

## 通用返回实体（分页）TableDataInfo

| 序号 |     字段     |    含义    |    备注    |
| :--: | :----------: | :--------: | :--------: |
|  1   |  long total  |  总记录数  |  一定存在  |
|  2   | List<?> rows |  列表数据  |  一定存在  |
|  3   |   int code   | 消息状态码 |  一定存在  |
|  4   |  String msg  |  消息内容  | 不一定存在 |

## 5.1 公共

### 5.1.1 登录

##### 接入方式

```java
common/login
POST
[body]
```

##### 请求参数

| 参数名称 | 参数类型 | 参数含义 | 可为空 |              备注              |
| :------: | :------: | :------: | :----: | :----------------------------: |
| username |  String  |   账号   |   NO   | 最大长度16，只能包含英文和数字 |
| password |  String  |   密码   |   NO   | 最大长度16，只能包含英文和数字 |
| userType |  String  | 用户类型 |   NO   |   01后台端用户；02手机端用户   |

* 案例

```json
{
	"username": "wdtest1",
	"password": "Abc123456",
    "userType": "01"
}
{
	"username": "apptest123",
	"password": "apptest123",
    "userType": "02"
}
```

##### 响应信息（AjaxResult）

| 参数名称 | 参数类型 |  参数含义  |    备注    |
| :------: | :------: | :--------: | :--------: |
|   code   |  Object  | 消息状态码 |  一定存在  |
|   msg    |  Object  |  返回信息  |  一定存在  |
|  token   |  Object  |    令牌    | 不一定存在 |

* 案例

```json
{
	"msg": "操作成功",
	"code": 200,
	"token": "eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6Ijc4ODIyMDhkLTZiNzEtNDc2Yi04MzEwLWY1ZWNkMWE5NjY4NCJ9.0AXf5xGist4cXoVmucI45tiu1Rms-FFs6RXvr17gFWBkzoeNGP5Kv8HGmXfkGpp9cp-Yswtvps8W8Nd_5QuxbQ"
}
{
	"msg": "用户不存在/密码错误",
	"code": 500
}
```

### 5.1.2 获取当前登录人信息

##### 接入方式

```java
common/getLoginInfo
GET
    
高性能接口：从redis中获取，建议获取登录人相关信息，使用此接口
```

##### 请求参数

|   参数名称    |    参数类型     |       参数含义       | 可为空 |                             备注                             |
| :-----------: | :-------------: | :------------------: | :----: | :----------------------------------------------------------: |
| Authorization | Request Headers | 令牌自定义Header标识 |   NO   | 内容必须以“Bearer ”开头<br>（注意有个空格），<br>拼接登录取得的token |

- 案例

```json
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6ImI0MjIyYzYyLTNmOWItNGJlNy1hMzViLTc3OGQ4YTc2OWY0MiJ9.F2eYebDUX4J1R1kGuzszpRKLqB7apgw0VzI77xtE3ZpXwLDKicYmm-lKcPzRAZOui0Wk_nz_SS_2cxO9_5jWsQ
```

##### 响应信息（AjaxResult）

|  参数名称   | 参数类型 |  参数含义  |                             备注                             |
| :---------: | :------: | :--------: | :----------------------------------------------------------: |
|    code     |  Object  | 消息状态码 |                           一定存在                           |
|     msg     |  Object  |  返回信息  |                           一定存在                           |
| permissions |  Object  |  权限集合  |                    不集成权限框架无需使用                    |
|    roles    |  Object  |  角色集合  | 从此可拿到手机端角色和后台端角色<br>["app", "backend"]<br>用于判定当前登录人角色，<br>为“app”则能访问手机端，<br>为“backend”则能访问后台端 |
|    users    |  Object  |  用户对象  |                      用户对象 sys_user                       |

- 案例

```json
{
  "msg": "操作成功",
  "code": 200,
  "permissions": [],
  "roles": [
    "backend"
  ],
  "user": {
    "searchValue": null,
    "createBy": "zhengrong8",
    "createTime": "2020-05-19 22:07:53",
    "updateBy": null,
    "updateTime": null,
    "version": null,
    "delFlag": "0",
    "remark": null,
    "dataScope": null,
    "params": {},
    "userId": 478,
    "deptId": 113,
    "userName": "wdtest1",
    "nickName": "王东",
    "email": "22222222@qq.com",
    "phonenumber": "15122222222",
    "sex": "0",
    "avatar": "",
    "password": "$2a$10$SqCbLOP65dlzGdJ6gTuNoenrjz.63BZF2Eso5e2kjmCWjn//jYXkG",
    "salt": null,
    "status": "0",
    "loginIp": "",
    "loginDate": null,
    "dept": {
      "searchValue": null,
      "createBy": null,
      "createTime": null,
      "updateBy": null,
      "updateTime": null,
      "version": null,
      "delFlag": null,
      "remark": null,
      "dataScope": null,
      "params": {},
      "deptId": 113,
      "parentId": 101,
      "ancestors": null,
      "deptName": "后台端部门",
      "orderNum": "3",
      "leader": "若依",
      "phone": null,
      "email": null,
      "status": "0",
      "parentName": null,
      "children": []
    },
    "roles": [
      {
        "searchValue": null,
        "createBy": null,
        "createTime": null,
        "updateBy": null,
        "updateTime": null,
        "version": null,
        "delFlag": null,
        "remark": null,
        "dataScope": "1",
        "params": {},
        "roleId": 3,
        "roleName": "后台端角色",
        "roleKey": "backend",
        "roleSort": "3",
        "status": "0",
        "flag": false,
        "menuIds": null,
        "deptIds": null,
        "admin": false
      }
    ],
    "roleIds": null,
    "postIds": null,
    "admin": false
  }
}
{
  "msg": "操作成功",
  "code": 200,
  "permissions": [],
  "roles": [
    "app"
  ],
  "user": {
    "searchValue": null,
    "createBy": "appRegist",
    "createTime": "2020-05-14 19:21:24",
    "updateBy": null,
    "updateTime": null,
    "version": null,
    "delFlag": "0",
    "remark": null,
    "dataScope": null,
    "params": {},
    "userId": 363,
    "deptId": 114,
    "userName": "apptest123",
    "nickName": "凉水也塞牙",
    "email": "15101110002@qq.com",
    "phonenumber": "15100123002",
    "sex": "0",
    "avatar": "",
    "password": "$2a$10$A/4SZaf9NILGiGVllD5KresL3AS8.qXCAWXYG7SwjDq9qbCaVqWj.",
    "salt": null,
    "status": "0",
    "loginIp": "",
    "loginDate": null,
    "dept": {
      "searchValue": null,
      "createBy": null,
      "createTime": null,
      "updateBy": null,
      "updateTime": null,
      "version": null,
      "delFlag": null,
      "remark": null,
      "dataScope": null,
      "params": {},
      "deptId": 114,
      "parentId": 101,
      "ancestors": null,
      "deptName": "手机端部门",
      "orderNum": "4",
      "leader": "若依",
      "phone": null,
      "email": null,
      "status": "0",
      "parentName": null,
      "children": []
    },
    "roles": [
      {
        "searchValue": null,
        "createBy": null,
        "createTime": null,
        "updateBy": null,
        "updateTime": null,
        "version": null,
        "delFlag": null,
        "remark": null,
        "dataScope": "1",
        "params": {},
        "roleId": 4,
        "roleName": "手机端角色",
        "roleKey": "app",
        "roleSort": "4",
        "status": "0",
        "flag": false,
        "menuIds": null,
        "deptIds": null,
        "admin": false
      }
    ],
    "roleIds": null,
    "postIds": null,
    "admin": false
  }
}
{
    "msg":"请求访问：/getInfo，认证失败，无法访问系统资源",
    "code":401
}
```

* 案例内实体

```java
/** 搜索值 */
private String searchValue;

/** 创建者 */
private String createBy;

/** 创建时间 */
@JsonFormat(pattern = "yyyy-MM-dd HH:mm:ss")
private Date createTime;

/** 更新者 */
private String updateBy;

/** 更新时间 */
@JsonFormat(pattern = "yyyy-MM-dd HH:mm:ss")
private Date updateTime;

/** 备注 */
private String remark;

/** 数据权限 */
private String dataScope;

/** 开始时间 */
@JsonIgnore
private String beginTime;

/** 结束时间 */
@JsonIgnore
private String endTime;

/** 请求参数 */
private Map<String, Object> params;

/** 用户ID */
@Excel(name = "用户序号", cellType = ColumnType.NUMERIC, prompt = "用户编号")
private Long userId;

/** 部门ID */
@Excel(name = "部门编号", type = Type.IMPORT)
private Long deptId;

/** 用户账号 */
@Excel(name = "登录名称")
private String userName;

/** 用户名称 */
@Excel(name = "用户名称")
private String nickName;

/** 用户邮箱 */
@Excel(name = "用户邮箱")
private String email;

/** 手机号码 */
@Excel(name = "手机号码")
private String phonenumber;

/** 用户性别 */
@Excel(name = "用户性别", readConverterExp = "0=男,1=女,2=未知")
private String sex;

/** 用户头像 */
private String avatar;

/** 密码 */
private String password;

/** 盐加密 */
private String salt;

/** 帐号状态（0正常 1停用） */
@Excel(name = "帐号状态", readConverterExp = "0=正常,1=停用")
private String status;

/** 删除标志（0代表存在 2代表删除） */
private String delFlag;

/** 最后登陆IP */
@Excel(name = "最后登陆IP", type = Type.EXPORT)
private String loginIp;

/** 最后登陆时间 */
@Excel(name = "最后登陆时间", width = 30, dateFormat = "yyyy-MM-dd HH:mm:ss", type = Type.EXPORT)
private Date loginDate;

/** 部门对象 */
@Excels({
    @Excel(name = "部门名称", targetAttr = "deptName", type = Type.EXPORT),
    @Excel(name = "部门负责人", targetAttr = "leader", type = Type.EXPORT)
})
private SysDept dept;

	/** 部门ID */
    private Long deptId;

    /** 父部门ID */
    private Long parentId;

    /** 祖级列表 */
    private String ancestors;

    /** 部门名称 */
    private String deptName;

    /** 显示顺序 */
    private String orderNum;

    /** 负责人 */
    private String leader;

    /** 联系电话 */
    private String phone;

    /** 邮箱 */
    private String email;

    /** 部门状态:0正常,1停用 */
    private String status;

    /** 删除标志（0代表存在 2代表删除） */
    private String delFlag;

    /** 父部门名称 */
    private String parentName;
    
    /** 子部门 */
    private List<SysDept> children = new ArrayList<SysDept>();

/** 角色对象 */
private List<SysRole> roles;

	/** 角色ID */
    @Excel(name = "角色序号", cellType = ColumnType.NUMERIC)
    private Long roleId;

    /** 角色名称 */
    @Excel(name = "角色名称")
    private String roleName;

    /** 角色权限 */
    @Excel(name = "角色权限")
    private String roleKey;

    /** 角色排序 */
    @Excel(name = "角色排序")
    private String roleSort;

    /** 数据范围（1：所有数据权限；2：自定义数据权限；3：本部门数据权限；4：本部门及以下数据权限） */
    @Excel(name = "数据范围", readConverterExp = "1=所有数据权限,2=自定义数据权限,3=本部门数据权限,4=本部门及以下数据权限")
    private String dataScope;

    /** 角色状态（0正常 1停用） */
    @Excel(name = "角色状态", readConverterExp = "0=正常,1=停用")
    private String status;

    /** 删除标志（0代表存在 2代表删除） */
    private String delFlag;

    /** 用户是否存在此角色标识 默认不存在 */
    private boolean flag = false;

    /** 菜单组 */
    private Long[] menuIds;

    /** 部门组（数据权限） */
    private Long[] deptIds;

/** 角色组 */
private Long[] roleIds;

/** 岗位组 */
private Long[] postIds;
```

### 5.1.3 退出登录

##### 接入方式

```java
common/logout
POST
```

##### 请求参数

|   参数名称    |    参数类型     |       参数含义       | 可为空 |                             备注                             |
| :-----------: | :-------------: | :------------------: | :----: | :----------------------------------------------------------: |
| Authorization | Request Headers | 令牌自定义Header标识 |   NO   | 内容必须以“Bearer ”开头<br>（注意有个空格），<br>拼接登录取得的token |

- 案例

```json
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6ImI0MjIyYzYyLTNmOWItNGJlNy1hMzViLTc3OGQ4YTc2OWY0MiJ9.F2eYebDUX4J1R1kGuzszpRKLqB7apgw0VzI77xtE3ZpXwLDKicYmm-lKcPzRAZOui0Wk_nz_SS_2cxO9_5jWsQ
```

##### 响应信息（AjaxResult）

| 参数名称 | 参数类型 |  参数含义  |   备注   |
| :------: | :------: | :--------: | :------: |
|   code   |  Object  | 消息状态码 | 一定存在 |
|   msg    |  Object  |  返回信息  | 一定存在 |

* 案例

```json
{
	"msg": "退出成功",
	"code": 200
}
```

### 5.1.4 上传

##### 接入方式

```java
common/upload
POST
[form-data]
```

##### 请求参数

|   参数名称    |    参数类型     |       参数含义       | 可为空 |                             备注                             |
| :-----------: | :-------------: | :------------------: | :----: | :----------------------------------------------------------: |
| Authorization | Request Headers | 令牌自定义Header标识 |   NO   | 内容必须以“Bearer ”开头<br>（注意有个空格），<br>拼接登录取得的token |
|     file      |      file       |   具体要上传的文件   |   NO   | `<input type="file">` form提交，<br>后台用MultipartFile file接收，<br>格式限定：.jpg、.png |

- 案例

```json
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6ImI0MjIyYzYyLTNmOWItNGJlNy1hMzViLTc3OGQ4YTc2OWY0MiJ9.F2eYebDUX4J1R1kGuzszpRKLqB7apgw0VzI77xtE3ZpXwLDKicYmm-lKcPzRAZOui0Wk_nz_SS_2cxO9_5jWsQ
```

##### 响应信息（AjaxResult）

| 参数名称 | 参数类型 |    参数含义    |               备注                |
| :------: | :------: | :------------: | :-------------------------------: |
|   code   |  Object  |   消息状态码   |             一定存在              |
|   msg    |  Object  |    返回信息    |             一定存在              |
| fileName |  Object  |    文件路径    | 一定存在（存入数据库img_url字段） |
|   url    |  Object  | 完整的请求路径 |       一定存在（做回显用）        |

* 案例

```json
{
	"msg": "操作成功",
	"code": 200,
    "fileName": "/profile/upload/2020/04/20/b93224129f7e9177e37b2c13c96d57b0.jpeg",
    "url": "http://localhost/dev-api/profile/upload/2020/04/20/b93224129f7e9177e37b2c13c96d57b0.jpeg"
}
```

## 5.2 手机端

### 5.2.1 注册

##### 接入方式

```java
app/regist
POST
[body]
```

##### 请求参数

|  参数名称   | 参数类型 |       参数含义       | 可为空 |              备注              |
| :---------: | :------: | :------------------: | :----: | :----------------------------: |
|  userName   |  String  |         账号         |   NO   | 最大长度16，只能包含英文和数字 |
|  nickName   |  String  |         姓名         |   NO   |           最大长度10           |
|  password   |  String  |         密码         |   NO   | 最大长度16，只能包含英文和数字 |
| phonenumber |  String  |        手机号        |   NO   |           最大长度11           |
|    email    |  String  |         邮箱         |   NO   |     前端正则校验邮箱有效性     |
|     sex     | Integer  | 性别（0：男；1：女） |   NO   |                                |

* 案例

```json
{
    "userName": "app2",
    "nickName": "凉水也塞牙2",
    "password": "app2",
    "phonenumber": "15100000002",
    "email": "15100000002@qq.com",
    "sex": "0"
}
{
    "userName": "app2",
    "nickName": "凉水也塞牙2",
    "password": "app2",
    "phonenumber": "15100000002",
    "email": "15100000002@qq.com",
    "sex": "0"
}
{
    "userName": "app3",
    "nickName": "凉水也塞牙2",
    "password": "app2",
    "phonenumber": "15100000002",
    "email": "15100000002@qq.com",
    "sex": "0"
}
{
	"userName": "app3app3",
	"nickName": "王东",
	"password": "app2",
	"phonenumber": "15100000003",
	"email": "249627561@qq.com",
	"sex": "0"
}
```

##### 响应信息（AjaxResult）

| 参数名称 | 参数类型 |  参数含义  |   备注   |
| :------: | :------: | :--------: | :------: |
|   code   |  Object  | 消息状态码 | 一定存在 |
|   msg    |  Object  |  返回信息  | 一定存在 |

* 案例

```json
{
	"msg": "注册成功",
	"code": 200
}
{
	"msg": "新增用户'app2'失败，登录账号已存在",
	"code": 500
}
{
	"msg": "新增用户'app2'失败，手机号码已存在",
	"code": 500
}
{
	"msg": "新增用户'app2'失败，邮箱账号已存在",
	"code": 500
}
```

### 5.2.2 首页

#### 5.2.2.1 广告列表（非分页）

##### 接入方式

```java
app/advertisement/list
GET
```

##### 请求参数

|   参数名称    |    参数类型     |       参数含义       | 可为空 |                             备注                             |
| :-----------: | :-------------: | :------------------: | :----: | :----------------------------------------------------------: |
| Authorization | Request Headers | 令牌自定义Header标识 |   NO   | 内容必须以“Bearer ”开头<br>（注意有个空格），<br>拼接登录取得的token |

- 案例

```json
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6ImI0MjIyYzYyLTNmOWItNGJlNy1hMzViLTc3OGQ4YTc2OWY0MiJ9.F2eYebDUX4J1R1kGuzszpRKLqB7apgw0VzI77xtE3ZpXwLDKicYmm-lKcPzRAZOui0Wk_nz_SS_2cxO9_5jWsQ
```

##### 响应信息（AjaxResult）

| 序号 | String |       Object        |    备注    |
| :--: | :----: | :-----------------: | :--------: |
|  1   |  code  |     消息状态码      |  一定存在  |
|  2   |  msg   |      消息内容       |  一定存在  |
|  3   |  data  | List<Advertisement> | 不一定存在 |

* **Advertisement**

|  No  |    字段    |  类型   |  空  |               注释               | 备注 |
| :--: | :--------: | :-----: | :--: | :------------------------------: | :--: |
|  1   |     id     |  Long   |  NO  |                id                |      |
|  2   |   title    | String  |  NO  |               标题               |      |
|  3   |  content   | String  |  NO  |               内容               |      |
|  4   |   imgUrl   | String  | YES  |             图片路径             |      |
|  5   |   points   |  Long   |  NO  |             可获积分             |      |
|  6   |  isEnable  | Integer |  NO  |   是否启用（0：启用；1：停用）   |      |
|  7   |   sortNo   | Integer |  NO  |               序号               |      |
|  8   | createTime |  Date   |  NO  |             创建时间             |      |
|  9   |  createBy  | String  |  NO  |              创建人              |      |
|  10  | updateTime |  Date   | YES  |             更新时间             |      |
|  11  |  updateBy  | String  | YES  |              更新人              |      |
|  12  |  version   |  Long   |  NO  |              版本号              |      |
|  13  |  delFlag   | String  |  NO  | 删除标记（0：未删除；2：已删除） |      |

* 案例

```json
{
	"msg": "查询成功",
	"code": 200,
    "data":[
        {
            "id": 1,
            "title": "校园卡",
            "content": "校园卡即将发布，尽情期待",
            "imgUrl": "/profile/upload/2020/04/20/b93224129f7e9177e37b2c13c96d57b0.jpeg",
            "points": 1000,
            "isEnable": 0,
            "sortNo": 1,
            "createTime": "2018-03-16 11:33:00",
            "createBy": "wangdong",
            "updateTime": "2018-03-16 11:33:00",
            "updateBy": "wangdong",
            "version": 2,
            "delFlag": 0
        },
        {
            "id": 2,
            "title": "图书卡",
            "content": "图书卡即将发布，尽情期待",
            "imgUrl": "/profile/upload/2020/04/20/b93224129f7e9177e37b2c13c96d57b0.jpeg",
            "points": 500,
            "isEnable": 0,
            "sortNo": 1,
            "createTime": "2018-03-16 11:33:00",
            "createBy": "wangdong",
            "updateTime": null,
            "updateBy": null,
            "version": 1,
            "delFlag": 0
        }
    ]
}
{
	"msg": "查询成功",
	"code": 200,
    "data":[]
}
```

#### 5.2.2.2 广告积分获取

##### 接入方式

```java
app/advertisement/points
PUT
[body]
```

##### 请求参数

|    参数名称     |    参数类型     |       参数含义       | 可为空 |                             备注                             |
| :-------------: | :-------------: | :------------------: | :----: | :----------------------------------------------------------: |
|  Authorization  | Request Headers | 令牌自定义Header标识 |   NO   | 内容必须以“Bearer ”开头<br>（注意有个空格），<br>拼接登录取得的token |
|     points      |      Long       |       可获积分       |   NO   |                                                              |
|       id        |      Long       |        广告id        |   NO   |                                                              |

- 案例

```json
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6ImI0MjIyYzYyLTNmOWItNGJlNy1hMzViLTc3OGQ4YTc2OWY0MiJ9.F2eYebDUX4J1R1kGuzszpRKLqB7apgw0VzI77xtE3ZpXwLDKicYmm-lKcPzRAZOui0Wk_nz_SS_2cxO9_5jWsQ

{
  "id": 2,
  "points": 1000
}
```

##### 响应信息（AjaxResult）

| 参数名称 | 参数类型 |  参数含义  |   备注   |
| :------: | :------: | :--------: | :------: |
|   code   |  Object  | 消息状态码 | 一定存在 |
|   msg    |  Object  |  返回信息  | 一定存在 |

* 案例

```json
{
	"msg": "获取积分成功",
	"code": 200
}
{
	"msg": "获取积分失败",
	"code": 500
}
```

### 5.2.3 空箱预约

#### 5.2.3.1 获取当前用户默认收货地址

##### 接入方式

```java
app/box/defaultAddress
GET
```

##### 请求参数

|   参数名称    |    参数类型     |       参数含义       | 可为空 |                             备注                             |
| :-----------: | :-------------: | :------------------: | :----: | :----------------------------------------------------------: |
| Authorization | Request Headers | 令牌自定义Header标识 |   NO   | 内容必须以“Bearer ”开头<br>（注意有个空格），<br>拼接登录取得的token |

- 案例

```json
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6ImI0MjIyYzYyLTNmOWItNGJlNy1hMzViLTc3OGQ4YTc2OWY0MiJ9.F2eYebDUX4J1R1kGuzszpRKLqB7apgw0VzI77xtE3ZpXwLDKicYmm-lKcPzRAZOui0Wk_nz_SS_2cxO9_5jWsQ
```

##### 响应信息（AjaxResult）

| 序号 | String |   Object   |    备注    |
| :--: | :----: | :--------: | :--------: |
|  1   |  code  | 消息状态码 |  一定存在  |
|  2   |  msg   |  消息内容  |  一定存在  |
|  3   |  data  |  Address   | 不一定存在 |

* 案例

```json
{
	"msg": "查询成功",
	"code": 200,
    "data": {
        "id": 1,
        "userId": 1,
        "contacts": "王东",
        "contactsPhone": "15142815248",
        "province": null,
        "provinceName": null,
        "city": null,
        "cityName": null,
        "area": null,
        "areaName": null,
        "address": "沈阳市大东区XXX",
        "isDefault": 0,
        "sortNo": 1,
        "createTime": "2018-03-16 11:33:00",
        "createBy": "wangdong",
        "updateTime": "2018-03-16 11:33:00",
        "updateBy": "wangdong",
        "version": 2,
        "delFlag": 0
    }
}
{
	"msg": "查询成功",
	"code": 200,
}
```

#### 5.2.3.2 有效箱子规格选择（非分页）

##### 接入方式

```java
app/box/standard/select
GET
```

##### 请求参数

|   参数名称    |    参数类型     |       参数含义       | 可为空 |                             备注                             |
| :-----------: | :-------------: | :------------------: | :----: | :----------------------------------------------------------: |
| Authorization | Request Headers | 令牌自定义Header标识 |   NO   | 内容必须以“Bearer ”开头<br>（注意有个空格），<br>拼接登录取得的token |

- 案例

```json
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6ImI0MjIyYzYyLTNmOWItNGJlNy1hMzViLTc3OGQ4YTc2OWY0MiJ9.F2eYebDUX4J1R1kGuzszpRKLqB7apgw0VzI77xtE3ZpXwLDKicYmm-lKcPzRAZOui0Wk_nz_SS_2cxO9_5jWsQ
```

##### 响应信息（AjaxResult）

| 序号 | String |          Object           |    备注    |
| :--: | :----: | :-----------------------: | :--------: |
|  1   |  code  |        消息状态码         |  一定存在  |
|  2   |  msg   |         消息内容          |  一定存在  |
|  3   |  data  | List<BoxStandardSelectVO> | 不一定存在 |

* **BoxStandardSelectVO**

|  No  |     字段     |  类型  |  空  |             注释             |      备注      |
| :--: | :----------: | :----: | :--: | :--------------------------: | :------------: |
|  1   |      id      |  Long  |  NO  |              id              | auto_increment |
|  2   | boxStandard  | String |  NO  |   箱子规格（如`20*20*20`）   |                |
|  3   | boxUnitPrice |  Long  |  NO  | 箱子积分单价（每月积分单价） |                |

* 案例

```json
{
	"msg": "查询成功",
	"code": 200,
    "data":[
        {
            "id": 1,
            "boxStandard": "30*30*30",
            "boxUnitPrice": 200
        },
        {
            "id": 2,
            "boxStandard": "40*40*40",
            "boxUnitPrice": 300
        }
    ]
}
{
	"msg": "查询成功",
	"code": 200,
    "data":[]
}
```

#### 5.2.3.3 预约

##### 接入方式

```java
app/box/order
POST
[body]
```

##### 请求参数

|       参数名称       |    参数类型     |           参数含义            | 可为空 |                             备注                             |
| :------------------: | :-------------: | :---------------------------: | :----: | :----------------------------------------------------------: |
|    Authorization     | Request Headers |     令牌自定义Header标识      |   NO   | 内容必须以“Bearer ”开头<br>（注意有个空格），<br>拼接登录取得的token |
|      orderName       |     String      |           订单名称            |   NO   |                                                              |
|  emptyBoxOrderTime   |      Date       |       空箱上门下单时间        |   NO   |                                                              |
|   emptyBoxCallName   |     String      |         空箱上门姓名          |   NO   |                          最大长度10                          |
|  emptyBoxCallPhone   |     String      |         空箱上门电话          |   NO   |                          最大长度11                          |
| emptyBoxCallAddress  |     String      |         空箱上门地址          |   NO   |                         最大长度256                          |
|   emptyBoxCallTime   |      Date       |    空箱上门时间（年月日）     |   NO   |                                                              |
| emptyBoxCallInterval |     String      | 空箱上门时段（如09:00-13:00） |   NO   |                                                              |
|     boxStandard      |     String      |    箱子规格（如20*20*20）     |   NO   |                                                              |
|     boxUnitPrice     |      Long       | 箱子积分单价（每月积分单价）  |   NO   |                                                              |
|    leaseDuration     |     Integer     |        租赁时长（月）         |   NO   |                                                              |
|      totalPrice      |      Long       |           实付积分            |   NO   |                                                              |

- 案例

```json
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6ImI0MjIyYzYyLTNmOWItNGJlNy1hMzViLTc3OGQ4YTc2OWY0MiJ9.F2eYebDUX4J1R1kGuzszpRKLqB7apgw0VzI77xtE3ZpXwLDKicYmm-lKcPzRAZOui0Wk_nz_SS_2cxO9_5jWsQ

{
    "orderName":"传家宝",
    "emptyBoxOrderTime":"2018-03-16 11:33:00",
    "emptyBoxCallName":"王东",
    "emptyBoxCallPhone":"15142815248",
    "emptyBoxCallAddress":"沈阳市大东区xxx",
    "emptyBoxCallTime":"2018-03-16",
    "emptyBoxCallInterval":"09:00-11:00",
    "boxStandard":"30*30*30",
    "boxUnitPrice":200,
    "leaseDuration":12,
    "totalPrice":2400
}
```

##### 响应信息（AjaxResult）

| 参数名称 | 参数类型 |  参数含义  |   备注   |
| :------: | :------: | :--------: | :------: |
|   code   |  Object  | 消息状态码 | 一定存在 |
|   msg    |  Object  |  返回信息  | 一定存在 |

* 案例

```json
{
	"msg": "预约成功",
	"code": 200
}
{
	"msg": "预约失败",
	"code": 500
}
```

### 5.2.4 我的订单

#### 5.2.4.1 订单列表（分页）

##### 接入方式

```java
app/order/list
GET
```

##### 请求参数

|   参数名称    |    参数类型     |       参数含义       | 可为空 |                             备注                             |
| :-----------: | :-------------: | :------------------: | :----: | :----------------------------------------------------------: |
| Authorization | Request Headers | 令牌自定义Header标识 |   NO   | 内容必须以“Bearer ”开头<br>（注意有个空格），<br>拼接登录取得的token |
|    pageNum    |     Integer     |       当前页数       |   NO   |                         默认页码为1                          |
|   pageSize    |     Integer     |    每页显示记录数    |   NO   |                       默认每页显示10条                       |

- 案例

```json
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6ImI0MjIyYzYyLTNmOWItNGJlNy1hMzViLTc3OGQ4YTc2OWY0MiJ9.F2eYebDUX4J1R1kGuzszpRKLqB7apgw0VzI77xtE3ZpXwLDKicYmm-lKcPzRAZOui0Wk_nz_SS_2cxO9_5jWsQ

pageNum=1&pageSize=10
```

##### 响应信息（TableDataInfo）

| 序号 |         字段          |    含义    |    备注    |
| :--: | :-------------------: | :--------: | :--------: |
|  1   |      long total       |  总记录数  |  一定存在  |
|  2   | List<AppOrderVO> rows |  列表数据  |  一定存在  |
|  3   |       int code        | 消息状态码 |  一定存在  |
|  4   |      String msg       |  消息内容  | 不一定存在 |

* **AppOrderVO**

|  No  |         字段         |  类型   |  空  |                             注释                             |        备注        |
| :--: | :------------------: | :-----: | :--: | :----------------------------------------------------------: | :----------------: |
|  1   |          id          |  Long   |  NO  |                              id                              |   auto_increment   |
|  2   |        userId        |  Long   |  NO  |                         手机端用户id                         |                    |
|  3   |       nickName       | String  |  NO  |                           客户名称                           |                    |
|  4   |        status        | Integer |  NO  | 1：已下上门单；<br/>2：待收空箱；<br/>3：已收空箱；<br/>4：已发重箱；<br/>5：已存储；<br/>6：已下提取单；<br/>7：待收重箱；<br/>8：已收重箱；<br/>9：已发空箱；<br/>10：已完成 | 手机端对状态的解读 |
|  5   |      orderCode       |  Long   |  NO  |                  订单编号（年月日+6位序列）                  |                    |
|  6   |      orderName       | String  |  NO  |                           订单名称                           |                    |
|  7   |  emptyBoxOrderTime   |  Date   |  NO  |           空箱上门下单时间（订单状态为1-5，显示）            |                    |
|  8   |  heavyBoxOrderTime   |  Date   | YES  |           重箱提取下单时间（订单状态为6-10，显示）           |                    |
|  9   |   emptyBoxCallName   | String  |  NO  |             空箱上门姓名（订单状态为1-5，显示）              |                    |
|  10  |  emptyBoxCallPhone   | String  |  NO  |             空箱上门电话（订单状态为1-5，显示）              |                    |
|  11  | emptyBoxCallAddress  | String  |  NO  |             空箱上门地址（订单状态为1-5，显示）              |                    |
|  12  |   emptyBoxCallTime   |  Date   |  NO  |         空箱上门时间（年月日，订单状态为1-5，显示）          |                    |
|  13  | emptyBoxCallInterval | String  |  NO  |      空箱上门时段（如09:00-13:00，订单状态为1-5，显示）      |                    |
|  14  |   heavyBoxCallName   | String  | YES  |             重箱提取姓名（订单状态为6-10，显示）             |                    |
|  15  |  heavyBoxCallPhone   | String  | YES  |             重箱提取电话（订单状态为6-10，显示）             |                    |
|  16  | heavyBoxCallAddress  | String  | YES  |             重箱提取地址（订单状态为6-10，显示）             |                    |
|  17  |   heavyBoxCallTime   |  Date   | YES  |         重箱提取时间（年月日，订单状态为6-10，显示）         |                    |
|  18  | heavyBoxCallInterval | String  | YES  |     重箱提取时段（如09:00-13:00，订单状态为6-10，显示）      |                    |
|  19  |        boxId         |  Long   |  NO  |                            箱子id                            |                    |
|  20  |       boxCode        |  Long   |  NO  |                  箱子编号（年月日+6位序列）                  |                    |
|  21  |     boxStandard      | String  |  NO  |                    箱子规格（如20*20*20）                    |                    |
|  22  |     boxUnitPrice     |  Long   |  NO  |                 箱子积分单价（每月积分单价）                 |                    |
|  23  |    leaseDuration     | Integer |  NO  |                        租赁时长（月）                        |                    |
|  24  |      totalPrice      |  Long   |  NO  |                           实付积分                           |                    |
|  25  |        sortNo        |  Long   | YES  |                             序号                             |                    |
|  26  |      createTime      |  Date   |  NO  |                           创建时间                           |                    |
|  27  |       createBy       | String  |  NO  |                            创建人                            |                    |
|  28  |      updateTime      |  Date   | YES  |                           更新时间                           |                    |
|  29  |       updateBy       | String  | YES  |                            更新人                            |                    |
|  30  |       version        |  Long   |  NO  |                            版本号                            |                    |
|  31  |       delFlag        | String  |  NO  |               删除标记（0：未删除；2：已删除）               |                    |
|  32  |      appDelFlag      | Integer |  NO  |            手机端删除标记（0：未删除；2：已删除）            |                    |
|  33  |    backendDelFlag    | Integer |  NO  |            后台端删除标记（0：未删除；2：已删除）            |                    |

* 案例

```json
{
	"msg": "查询成功",
	"code": 200,
    "total": 1,
    "rows":[
        {
            "id": 1,
            "userId": 1,
            "nickName": "王东",
            "status": 1,
            "orderCode": 20200421000001,
            "orderName": "传家宝",
            "emptyBoxOrderTime": "2018-03-16 11:33:00",
            "heavyBoxOrderTime": "2018-03-17 11:33:00",
            "emptyBoxCallName": "王东",
            "emptyBoxCallPhone": "15142815248",
            "emptyBoxCallAddress": "沈阳市大东区xxx",
            "emptyBoxCallTime": "2018-03-16",
            "emptyBoxCallInterval": "09:00-11:00",
            "heavyBoxCallName": "王东",
            "heavyBoxCallPhone": "15142815248",
            "heavyBoxCallAddress": "沈阳市大东区xxx",
            "heavyBoxCallTime": "2019-03-16",
            "heavyBoxCallInterval": "09:00-11:00",
            "boxId": 1,
            "boxCode": 20200421000001,
            "boxStandard": "30*30*30",
            "boxUnitPrice": 200,
            "leaseDuration": 12,
            "totalPrice": 2400,
            "sortNo": 1,
            "createTime": "2018-03-16 11:33:00",
            "createBy": "wangdong",
            "updateTime": "2018-03-16 11:33:00",
            "updateBy": "wangdong",
            "version": 2,
            "delFlag": 0,
            "appDelFlag": 0,
            "backendDelFlag": 0
        }
    ]
}
{
	"msg": "查询成功",
	"code": 200,
    "total": 0,
    "rows":[]
}
```

#### 5.2.4.2 订单详情

##### 接入方式

```java
app/order/info/{id}
GET
[path]
```

##### 请求参数

|   参数名称    |    参数类型     |       参数含义       | 可为空 |                             备注                             |
| :-----------: | :-------------: | :------------------: | :----: | :----------------------------------------------------------: |
| Authorization | Request Headers | 令牌自定义Header标识 |   NO   | 内容必须以“Bearer ”开头<br>（注意有个空格），<br>拼接登录取得的token |
|      id       |      Long       |        订单id        |   NO   |                                                              |


- 案例

```json
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6ImI0MjIyYzYyLTNmOWItNGJlNy1hMzViLTc3OGQ4YTc2OWY0MiJ9.F2eYebDUX4J1R1kGuzszpRKLqB7apgw0VzI77xtE3ZpXwLDKicYmm-lKcPzRAZOui0Wk_nz_SS_2cxO9_5jWsQ

app/order/info/1
```

##### 响应信息（AjaxResult）

| 参数名称 |  参数类型  |  参数含义  |    备注    |
| :------: | :--------: | :--------: | :--------: |
|   code   |   Object   | 消息状态码 |  一定存在  |
|   msg    |   Object   |  返回信息  |  一定存在  |
|   data   | AppOrderVO |  订单详情  | 不一定存在 |

* 案例

```json
{
    "msg":"查询成功",
    "code":200,
    "data":{
        "id":1,
        "userId":1,
        "nickName":"王东",
        "status":1,
        "orderCode":20200421000001,
        "orderName":"传家宝",
        "emptyBoxOrderTime":"2018-03-16 11:33:00",
        "heavyBoxOrderTime":"2018-03-17 11:33:00",
        "emptyBoxCallName":"王东",
        "emptyBoxCallPhone":"15142815248",
        "emptyBoxCallAddress":"沈阳市大东区xxx",
        "emptyBoxCallTime":"2018-03-16",
        "emptyBoxCallInterval":"09:00-11:00",
        "heavyBoxCallName":"王东",
        "heavyBoxCallPhone":"15142815248",
        "heavyBoxCallAddress":"沈阳市大东区xxx",
        "heavyBoxCallTime":"2019-03-16",
        "heavyBoxCallInterval":"09:00-11:00",
        "boxId":1,
        "boxCode":20200421000001,
        "boxStandard":"30*30*30",
        "boxUnitPrice":200,
        "leaseDuration":12,
        "totalPrice":2400,
        "sortNo":1,
        "createTime":"2018-03-16 11:33:00",
        "createBy":"wangdong",
        "updateTime":"2018-03-16 11:33:00",
        "updateBy":"wangdong",
        "version":2,
        "delFlag":0,
        "appDelFlag":0,
        "backendDelFlag":0
    }
}
```

#### 5.2.4.3 订单操作

##### 接入方式

```java
app/order/operate/{id}/{operate}/{version}
PUT
[path]
[body]
```

##### 请求参数

|       参数名称       |    参数类型     |           参数含义            | 可为空 |                             备注                             |
| :------------------: | :-------------: | :---------------------------: | :----: | :----------------------------------------------------------: |
|    Authorization     | Request Headers |     令牌自定义Header标识      |   NO   | 内容必须以“Bearer ”开头<br>（注意有个空格），<br>拼接登录取得的token |
|          id          |      Long       |            订单id             |   NO   |                                                              |
|       operate        |     Integer     |           订单操作            |   NO   | 3：【收取空箱】；<br/>4：【发送重箱】；<br/>6：【预约提取】；<br/>8：【收取重箱】<br/>9：【发送空箱】<br/>10：【删除订单】 |
|    version    |      Long       |        版本号        |   NO   |                    版本号，做乐观锁，必传                    |
| orderVO | body | 订单信息 | NO | 当operate!=6，此处在body传递{}即可，当operate=6，下方参数必传 |
|  heavyBoxOrderTime   |      Date       |       重箱提取下单时间        |  YES   |                 当operate=6，本字段不可为空，在body中传递，参考下方案例                 |
|   heavyBoxCallName   |     String      |         重箱提取姓名          |  YES   |                 当operate=6，本字段不可为空，在body中传递，参考下方案例  |
|  heavyBoxCallPhone   |     String      |         重箱提取电话          |  YES   |                 当operate=6，本字段不可为空，在body中传递，参考下方案例  |
| heavyBoxCallAddress  |     String      |         重箱提取地址          |  YES   |                 当operate=6，本字段不可为空，在body中传递，参考下方案例  |
|   heavyBoxCallTime   |      Date       |    重箱提取时间（年月日）     |  YES   |                 当operate=6，本字段不可为空，在body中传递，参考下方案例  |
| heavyBoxCallInterval |     String      | 重箱提取时段（如09:00-13:00） |  YES   |                 当operate=6，本字段不可为空，在body中传递，参考下方案例  |

- 案例

```json
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6ImI0MjIyYzYyLTNmOWItNGJlNy1hMzViLTc3OGQ4YTc2OWY0MiJ9.F2eYebDUX4J1R1kGuzszpRKLqB7apgw0VzI77xtE3ZpXwLDKicYmm-lKcPzRAZOui0Wk_nz_SS_2cxO9_5jWsQ

app/order/operate/1/3/1
{}

app/order/operate/1/4/1
{}

app/order/operate/1/6/1
{
    "heavyBoxOrderTime":"2018-03-16 11:33:00",
    "heavyBoxCallName":"王东",
    "heavyBoxCallPhone":"15142815248",
    "heavyBoxCallAddress":"沈阳市大东区xxx",
    "heavyBoxCallTime":"2018-03-16",
    "heavyBoxCallInterval":"09:00-11:00"
}

app/order/operate/1/8/1
{}

app/order/operate/1/9/1
{}
```

##### 响应信息（AjaxResult）

| 参数名称 | 参数类型 |  参数含义  |   备注   |
| :------: | :------: | :--------: | :------: |
|   code   |  Object  | 消息状态码 | 一定存在 |
|   msg    |  Object  |  返回信息  | 一定存在 |

* 案例

```json
{
	"msg": "操作成功",
	"code": 200
}
{
	"msg": "操作失败",
	"code": 500
}
{
	"msg": "已有他人优先操作，请刷新后重试",
	"code": 409
}
```

### 5.2.5 个人中心

#### 5.2.5.1 修改密码

##### 接入方式

```java
app/personal/updatePassword/{oldPassword}/{newPassword}
PUT
[path]
```

##### 请求参数

|   参数名称    |    参数类型     |       参数含义       | 可为空 |                             备注                             |
| :-----------: | :-------------: | :------------------: | :----: | :----------------------------------------------------------: |
| Authorization | Request Headers | 令牌自定义Header标识 |   NO   | 内容必须以“Bearer ”开头<br>（注意有个空格），<br>拼接登录取得的token |
|  oldPassword  |     String      |        旧密码        |   NO   |                                                              |
|  newPassword  |     String      |        新密码        |   NO   |                                                              |

- 案例

```json
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6ImI0MjIyYzYyLTNmOWItNGJlNy1hMzViLTc3OGQ4YTc2OWY0MiJ9.F2eYebDUX4J1R1kGuzszpRKLqB7apgw0VzI77xtE3ZpXwLDKicYmm-lKcPzRAZOui0Wk_nz_SS_2cxO9_5jWsQ

app/personal/updatePassword/app1/app1

app/personal/updatePassword/app2/app1

app/personal/updatePassword/app1/app2

app/personal/updatePassword/app2/app1
```

##### 响应信息（AjaxResult）

| 参数名称 | 参数类型 |  参数含义  |   备注   |
| :------: | :------: | :--------: | :------: |
|   code   |  Object  | 消息状态码 | 一定存在 |
|   msg    |  Object  |  返回信息  | 一定存在 |

* 案例

```json
{
  "msg": "修改密码失败，新密码不能与旧密码相同",
  "code": 500
}
{
  "msg": "操作成功",
  "code": 200
}
{
  "msg": "修改密码失败，旧密码错误",
  "code": 500
}
```

### 5.2.6 地址管理

#### 5.2.6.1 地址列表（分页）

##### 接入方式

```java
app/address/list
GET
```

##### 请求参数

|   参数名称    |    参数类型     |       参数含义       | 可为空 |                             备注                             |
| :-----------: | :-------------: | :------------------: | :----: | :----------------------------------------------------------: |
| Authorization | Request Headers | 令牌自定义Header标识 |   NO   | 内容必须以“Bearer ”开头<br>（注意有个空格），<br>拼接登录取得的token |
|    pageNum    |     Integer     |       当前页数       |   NO   |                         默认页码为1                          |
|   pageSize    |     Integer     |    每页显示记录数    |   NO   |                       默认每页显示10条                       |

- 案例

```json
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6ImI0MjIyYzYyLTNmOWItNGJlNy1hMzViLTc3OGQ4YTc2OWY0MiJ9.F2eYebDUX4J1R1kGuzszpRKLqB7apgw0VzI77xtE3ZpXwLDKicYmm-lKcPzRAZOui0Wk_nz_SS_2cxO9_5jWsQ

pageNum=1&pageSize=10
```

##### 响应信息（TableDataInfo）

| 序号 |        字段        |    含义    |    备注    |
| :--: | :----------------: | :--------: | :--------: |
|  1   |     long total     |  总记录数  |  一定存在  |
|  2   | List<Address> rows |  列表数据  |  一定存在  |
|  3   |      int code      | 消息状态码 |  一定存在  |
|  4   |     String msg     |  消息内容  | 不一定存在 |

* **Address**

|  No  |     字段      |  类型   |  空  |               注释               |      备注      |
| :--: | :-----------: | :-----: | :--: | :------------------------------: | :------------: |
|  1   |      id       |  Long   |  NO  |                id                | auto_increment |
|  2   |    userId     |  Long   |  NO  |           手机端用户id           |                |
|  3   |   contacts    | String  |  NO  |              联系人              |                |
|  4   | contactsPhone | String  |  NO  |            联系人电话            |                |
|  5   |   province    | String  | YES  |              省编号              |                |
|  6   | provinceName  | String  | YES  |              省名称              |                |
|  7   |     city      | String  | YES  |              市编号              |                |
|  8   |   cityName    | String  | YES  |              市名称              |                |
|  9   |     area      | String  | YES  |              区编号              |                |
|  10  |   areaName    | String  | YES  |              区名称              |                |
|  11  |    address    | String  |  NO  |             详细地址             |                |
|  12  |   isDefault   | Integer |  NO  |  是否是默认地址（0：是；1：否）  |                |
|  13  |    sortNo     |  Long   | YES  |               序号               |                |
|  14  |  createTime   |  Date   |  NO  |             创建时间             |                |
|  15  |   createBy    | String  |  NO  |              创建人              |                |
|  16  |  updateTime   |  Date   | YES  |             更新时间             |                |
|  17  |   updateBy    | String  | YES  |              更新人              |                |
|  18  |    version    |  Long   |  NO  |              版本号              |                |
|  19  |    delFlag    | String  |  NO  | 删除标记（0：未删除；2：已删除） |                |

* 案例

```json
{
	"msg": "查询成功",
	"code": 200,
    "total": 2,
    "rows":[
        {
            "id": 1,
            "userId": 1,
            "contacts": "王东",
            "contactsPhone": "15142815248",
            "province": null,
            "provinceName": null,
            "city": null,
            "cityName": null,
            "area": null,
            "areaName": null,
            "address": "沈阳市大东区XXX",
            "isDefault": 0,
            "sortNo": 1,
            "createTime": "2018-03-16 11:33:00",
            "createBy": "wangdong",
            "updateTime": "2018-03-16 11:33:00",
            "updateBy": "wangdong",
            "version": 2,
            "delFlag": 0
        },
        {
            "id": 2,
            "userId": 1,
            "contacts": "王东1",
            "contactsPhone": "15142815241",
            "province": null,
            "provinceName": null,
            "city": null,
            "cityName": null,
            "area": null,
            "areaName": null,
            "address": "沈阳市浑南区XXX",
            "isDefault": 1,
            "sortNo": 1,
            "createTime": "2018-03-16 11:33:00",
            "createBy": "wangdong",
            "updateTime": "2018-03-16 11:33:00",
            "updateBy": "wangdong",
            "version": 2,
            "delFlag": 0
        }
    ]
}
{
	"msg": "查询成功",
	"code": 200,
    "total": 0,
    "rows":[]
}
```

#### 5.2.6.2 地址新增

##### 接入方式

```java
app/address/create
POST
[body]
```

##### 请求参数

|   参数名称    |    参数类型     |            参数含义            | 可为空 |                             备注                             |
| :-----------: | :-------------: | :----------------------------: | :----: | :----------------------------------------------------------: |
| Authorization | Request Headers |      令牌自定义Header标识      |   NO   | 内容必须以“Bearer ”开头<br>（注意有个空格），<br>拼接登录取得的token |
|   contacts    |     String      |             联系人             |   NO   |                                                              |
| contactsPhone |     String      |           联系人电话           |   NO   |                                                              |
|    address    |     String      |            详细地址            |   NO   |                                                              |
|   isDefault   |     Integer     | 是否是默认地址（0：是；1：否） |   NO   |                                                              |

- 案例

```json
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6ImI0MjIyYzYyLTNmOWItNGJlNy1hMzViLTc3OGQ4YTc2OWY0MiJ9.F2eYebDUX4J1R1kGuzszpRKLqB7apgw0VzI77xtE3ZpXwLDKicYmm-lKcPzRAZOui0Wk_nz_SS_2cxO9_5jWsQ

{
    "contacts": "王东",
    "contactsPhone": "15142815248",
    "address": "沈阳市大东区XXX",
    "isDefault": 0
}
```

##### 响应信息（AjaxResult）

| 参数名称 | 参数类型 |  参数含义  |   备注   |
| :------: | :------: | :--------: | :------: |
|   code   |  Object  | 消息状态码 | 一定存在 |
|   msg    |  Object  |  返回信息  | 一定存在 |

* 案例

```json
{
	"msg": "新增成功",
	"code": 200
}
{
	"msg": "新增失败",
	"code": 500
}
```


#### 5.2.6.3 地址编辑

##### 接入方式

```java
app/address/update
PUT
[body]
```

##### 请求参数

|   参数名称    |    参数类型     |            参数含义            | 可为空 |                             备注                             |
| :-----------: | :-------------: | :----------------------------: | :----: | :----------------------------------------------------------: |
| Authorization | Request Headers |      令牌自定义Header标识      |   NO   | 内容必须以“Bearer ”开头<br>（注意有个空格），<br>拼接登录取得的token |
|      id       |      Long       |             地址id             |   NO   |                                                              |
|   contacts    |     String      |             联系人             |   NO   |                                                              |
| contactsPhone |     String      |           联系人电话           |   NO   |                                                              |
|    address    |     String      |            详细地址            |   NO   |                                                              |
|   isDefault   |     Integer     | 是否是默认地址（0：是；1：否） |   NO   |                                                              |

- 案例

```json
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6ImI0MjIyYzYyLTNmOWItNGJlNy1hMzViLTc3OGQ4YTc2OWY0MiJ9.F2eYebDUX4J1R1kGuzszpRKLqB7apgw0VzI77xtE3ZpXwLDKicYmm-lKcPzRAZOui0Wk_nz_SS_2cxO9_5jWsQ

{
    "id": 1,
    "contacts": "王东",
    "contactsPhone": "15142815248",
    "address": "沈阳市大东区XXX",
    "isDefault": 0
}
```

##### 响应信息（AjaxResult）

| 参数名称 | 参数类型 |  参数含义  |   备注   |
| :------: | :------: | :--------: | :------: |
|   code   |  Object  | 消息状态码 | 一定存在 |
|   msg    |  Object  |  返回信息  | 一定存在 |

* 案例

```json
{
	"msg": "修改成功",
	"code": 200
}
{
	"msg": "修改失败",
	"code": 500
}
```


#### 5.2.6.4 地址删除

##### 接入方式

```java
app/address/delete/{id}
DELETE
[path]
```

##### 请求参数

|   参数名称    |    参数类型     |       参数含义       | 可为空 |                             备注                             |
| :-----------: | :-------------: | :------------------: | :----: | :----------------------------------------------------------: |
| Authorization | Request Headers | 令牌自定义Header标识 |   NO   | 内容必须以“Bearer ”开头<br>（注意有个空格），<br>拼接登录取得的token |
|      id       |      Long       |   需要删除的地址ID   |   NO   |                                                              |

- 案例

```json
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6ImI0MjIyYzYyLTNmOWItNGJlNy1hMzViLTc3OGQ4YTc2OWY0MiJ9.F2eYebDUX4J1R1kGuzszpRKLqB7apgw0VzI77xtE3ZpXwLDKicYmm-lKcPzRAZOui0Wk_nz_SS_2cxO9_5jWsQ

app/address/delete/1
```

##### 响应信息（AjaxResult）

| 参数名称 | 参数类型 |  参数含义  |   备注   |
| :------: | :------: | :--------: | :------: |
|   code   |  Object  | 消息状态码 | 一定存在 |
|   msg    |  Object  |  返回信息  | 一定存在 |

* 案例

```json
{
	"msg": "删除成功",
	"code": 200
}
{
	"msg": "删除失败",
	"code": 500
}
```

#### 5.2.6.5 设置默认地址

##### 接入方式

```java
app/address/default/{id}
PUT
[path]
```

##### 请求参数

|   参数名称    |    参数类型     |         参数含义         | 可为空 |                             备注                             |
| :-----------: | :-------------: | :----------------------: | :----: | :----------------------------------------------------------: |
| Authorization | Request Headers |   令牌自定义Header标识   |   NO   | 内容必须以“Bearer ”开头<br>（注意有个空格），<br>拼接登录取得的token |
|      id       |      Long       | 需要设置默认地址的地址ID |   NO   |                                                              |

- 案例

```json
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6ImI0MjIyYzYyLTNmOWItNGJlNy1hMzViLTc3OGQ4YTc2OWY0MiJ9.F2eYebDUX4J1R1kGuzszpRKLqB7apgw0VzI77xtE3ZpXwLDKicYmm-lKcPzRAZOui0Wk_nz_SS_2cxO9_5jWsQ

app/address/default/1
```

##### 响应信息（AjaxResult）

| 参数名称 | 参数类型 |  参数含义  |   备注   |
| :------: | :------: | :--------: | :------: |
|   code   |  Object  | 消息状态码 | 一定存在 |
|   msg    |  Object  |  返回信息  | 一定存在 |

* 案例

```json
{
	"msg": "设置默认成功",
	"code": 200
}
{
	"msg": "设置默认失败",
	"code": 500
}
```

### 5.2.7 积分记录

#### 5.2.7.1 积分记录列表（分页）

##### 接入方式

```java
app/point/list
GET
```

##### 请求参数

|   参数名称    |    参数类型     |       参数含义       | 可为空 |                             备注                             |
| :-----------: | :-------------: | :------------------: | :----: | :----------------------------------------------------------: |
| Authorization | Request Headers | 令牌自定义Header标识 |   NO   | 内容必须以“Bearer ”开头<br>（注意有个空格），<br>拼接登录取得的token |
|    pageNum    |     Integer     |       当前页数       |   NO   |                         默认页码为1                          |
|   pageSize    |     Integer     |    每页显示记录数    |   NO   |                       默认每页显示10条                       |

- 案例

```json
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6ImI0MjIyYzYyLTNmOWItNGJlNy1hMzViLTc3OGQ4YTc2OWY0MiJ9.F2eYebDUX4J1R1kGuzszpRKLqB7apgw0VzI77xtE3ZpXwLDKicYmm-lKcPzRAZOui0Wk_nz_SS_2cxO9_5jWsQ

pageNum=1&pageSize=10
```

##### 响应信息（TableDataInfo）

| 序号 |          字段          |    含义    |    备注    |
| :--: | :--------------------: | :--------: | :--------: |
|  1   |       long total       |  总记录数  |  一定存在  |
|  2   | List<PointRecord> rows |  列表数据  |  一定存在  |
|  3   |        int code        | 消息状态码 |  一定存在  |
|  4   |       String msg       |  消息内容  | 不一定存在 |

* **PointRecord**

|  No  |      字段       |  类型   |  空  |                     注释                      |      备注      |
| :--: | :-------------: | :-----: | :--: | :-------------------------------------------: | :------------: |
|  1   |       id        |  Long   |  NO  |                      id                       | auto_increment |
|  2   |     userId      |  Long   |  NO  |                 手机端用户id                  |                |
|  3   |       way       | Integer |  NO  | 方式（1：注册赠送；2：活动获得；3：积分使用） |                |
|  4   |     points      |  Long   |  NO  |    积分（积分获得为正数，积分使用未负数）     |                |
|  5   | advertisementId |  Long   | YES  |                    广告id                     |                |
|  6   |     orderId     |  Long   | YES  |                    订单id                     |                |
|  7   |     sortNo      |  Long   | YES  |                     序号                      |                |
|  8   |   createTime    |  Date   |  NO  |                   创建时间                    |                |
|  9   |    createBy     | String  |  NO  |                    创建人                     |                |
|  10  |   updateTime    |  Date   | YES  |                   更新时间                    |                |
|  11  |    updateBy     | String  | YES  |                    更新人                     |                |
|  12  |     version     |  Long   |  NO  |                    版本号                     |                |
|  13  |     delFlag     | String  |  NO  |       删除标记（0：未删除；2：已删除）        |                |

* 案例

```json
{
	"msg": "查询成功",
	"code": 200,
    "total": 3,
    "rows":[
        {
            "id": 1,
            "userId": 12,
            "way": 1,
            "points": 10000,
            "advertisementId": null,
            "orderId": null,
            "sortNo": 1,
            "createTime": "2018-03-16 11:33:00",
            "createBy": "wangdong",
            "updateTime": null,
            "updateBy": null,
            "version": 1,
            "delFlag": 0
        },
        {
            "id": 2,
            "userId": 12,
            "way": 2,
            "points": 200,
            "advertisementId": 1,
            "orderId": null,
            "sortNo": 1,
            "createTime": "2018-03-16 11:33:00",
            "createBy": "wangdong",
            "updateTime": null,
            "updateBy": null,
            "version": 1,
            "delFlag": 0
        },
        {
            "id": 3,
            "userId": 12,
            "way": 3,
            "points": -2400,
            "advertisementId": null,
            "orderId": 1,
            "sortNo": 1,
            "createTime": "2018-03-16 11:33:00",
            "createBy": "wangdong",
            "updateTime": null,
            "updateBy": null,
            "version": 1,
            "delFlag": 0
        }
    ]
}
{
	"msg": "查询成功",
	"code": 200,
    "total": 0,
    "rows":[]
}
```

#### 5.2.7.2 获取当前用户积分

##### 接入方式

```java
app/point/select
GET
```

##### 请求参数

|   参数名称    |    参数类型     |       参数含义       | 可为空 |                             备注                             |
| :-----------: | :-------------: | :------------------: | :----: | :----------------------------------------------------------: |
| Authorization | Request Headers | 令牌自定义Header标识 |   NO   | 内容必须以“Bearer ”开头<br>（注意有个空格），<br>拼接登录取得的token |

- 案例

```json
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6ImI0MjIyYzYyLTNmOWItNGJlNy1hMzViLTc3OGQ4YTc2OWY0MiJ9.F2eYebDUX4J1R1kGuzszpRKLqB7apgw0VzI77xtE3ZpXwLDKicYmm-lKcPzRAZOui0Wk_nz_SS_2cxO9_5jWsQ
```

##### 响应信息（AjaxResult）

| 序号 | String |     Object     |    备注    |
| :--: | :----: | :------------: | :--------: |
|  1   |  code  |   消息状态码   |  一定存在  |
|  2   |  msg   |    消息内容    |  一定存在  |
|  3   |  data  | 当前用户积分值 | 不一定存在 |

* 案例

```json
{
	"msg": "查询成功",
	"code": 200,
    "data": 10000
}
{
	"msg": "查询成功",
	"code": 200,
}
```

### 5.2.8 意见建议

##### 接入方式

```java
app/personal/advice
POST
[body]
```

##### 请求参数

|   参数名称    |    参数类型     |       参数含义       | 可为空 |                             备注                             |
| :-----------: | :-------------: | :------------------: | :----: | :----------------------------------------------------------: |
| Authorization | Request Headers | 令牌自定义Header标识 |   NO   | 内容必须以“Bearer ”开头<br>（注意有个空格），<br>拼接登录取得的token |
|     title     |     String      |         标题         |   NO   |                          最大长度20                          |
|    content    |     String      |         内容         |   NO   |                         最大长度1000                         |

- 案例

```json
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6ImI0MjIyYzYyLTNmOWItNGJlNy1hMzViLTc3OGQ4YTc2OWY0MiJ9.F2eYebDUX4J1R1kGuzszpRKLqB7apgw0VzI77xtE3ZpXwLDKicYmm-lKcPzRAZOui0Wk_nz_SS_2cxO9_5jWsQ

{
    "title": "优化程序运行速度",
    "content": "优化XXX模块的程序运行速度"
}
```

##### 响应信息（AjaxResult）

| 参数名称 | 参数类型 |  参数含义  |   备注   |
| :------: | :------: | :--------: | :------: |
|   code   |  Object  | 消息状态码 | 一定存在 |
|   msg    |  Object  |  返回信息  | 一定存在 |

* 案例

```json
{
	"msg": "新增成功",
	"code": 200
}
{
	"msg": "新增失败",
	"code": 500
}
```

## 5.3 后台端

### 5.3.1 首页

#### 5.3.1.1 修改密码

##### 接入方式

```java
backend/home/updatePassword/{oldPassword}/{newPassword}
PUT
[path]
```

##### 请求参数

|   参数名称    |    参数类型     |       参数含义       | 可为空 |                             备注                             |
| :-----------: | :-------------: | :------------------: | :----: | :----------------------------------------------------------: |
| Authorization | Request Headers | 令牌自定义Header标识 |   NO   | 内容必须以“Bearer ”开头<br>（注意有个空格），<br>拼接登录取得的token |
|  oldPassword  |     String      |        旧密码        |   NO   |                                                              |
|  newPassword  |     String      |        新密码        |   NO   |                                                              |

- 案例

```json
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6ImI0MjIyYzYyLTNmOWItNGJlNy1hMzViLTc3OGQ4YTc2OWY0MiJ9.F2eYebDUX4J1R1kGuzszpRKLqB7apgw0VzI77xtE3ZpXwLDKicYmm-lKcPzRAZOui0Wk_nz_SS_2cxO9_5jWsQ

backend/home/updatePassword/wangdong/wangdong123
```

##### 响应信息（AjaxResult）

| 参数名称 | 参数类型 |  参数含义  |   备注   |
| :------: | :------: | :--------: | :------: |
|   code   |  Object  | 消息状态码 | 一定存在 |
|   msg    |  Object  |  返回信息  | 一定存在 |

* 案例

```json
{
	"msg": "密码修改成功",
	"code": 200
}
{
	"msg": "密码修改失败",
	"code": 500
}
```

### 5.3.2 用户管理

#### 5.3.2.1 用户列表（分页）

##### 接入方式

```java
backend/user/list
GET
```

##### 请求参数

|   参数名称    |    参数类型     |       参数含义       | 可为空 |                             备注                             |
| :-----------: | :-------------: | :------------------: | :----: | :----------------------------------------------------------: |
| Authorization | Request Headers | 令牌自定义Header标识 |   NO   | 内容必须以“Bearer ”开头<br>（注意有个空格），<br>拼接登录取得的token |
|    pageNum    |     Integer     |       当前页数       |   NO   |                         默认页码为1                          |
|   pageSize    |     Integer     |    每页显示记录数    |   NO   |                       默认每页显示10条                       |
|  searchValue  |     String      |       查询参数       |  YES   |      输入姓名、用户帐号、手机号、邮箱都可进行右模糊查询      |

- 案例

```json
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6ImI0MjIyYzYyLTNmOWItNGJlNy1hMzViLTc3OGQ4YTc2OWY0MiJ9.F2eYebDUX4J1R1kGuzszpRKLqB7apgw0VzI77xtE3ZpXwLDKicYmm-lKcPzRAZOui0Wk_nz_SS_2cxO9_5jWsQ

pageNum=1&pageSize=10&searchValue=wangdong

pageNum=1&pageSize=10
```

##### 响应信息（TableDataInfo）

| 序号 |      字段       |    含义    |    备注    |
| :--: | :-------------: | :--------: | :--------: |
|  1   |   long total    |  总记录数  |  一定存在  |
|  2   | List<User> rows |  列表数据  |  一定存在  |
|  3   |    int code     | 消息状态码 |  一定存在  |
|  4   |   String msg    |  消息内容  | 不一定存在 |

* **User**

|  No  |     字段      |  类型  |  空  |                        注释                        |      备注      |
| :--: | :-----------: | :----: | :--: | :------------------------------------------------: | :------------: |
|  1   |    userId     |  Long  |  NO  |                       用户ID                       | auto_increment |
|  2   |    deptId     |  Long  | YES  |                       部门ID                       |                |
|  3   |   userName    | String |  NO  |                      用户账号                      |                |
|  4   |   nickName    | String |  NO  |                      用户姓名                      |                |
|  5   |   userType    | String | YES  | 用户类型（00系统用户；01后台端用户；02手机端用户） |                |
|  6   |     email     | String | YES  |                      用户邮箱                      |                |
|  7   |  phonenumber  | String | YES  |                      手机号码                      |                |
|  8   |      sex      | String | YES  |             用户性别（0男 1女 2未知）              |                |
|  9   |    avatar     | String | YES  |                      头像地址                      |                |
|  10  |   password    | String | YES  |                        密码                        |                |
|  11  |    status     | String | YES  |              帐号状态（0正常 1停用）               |                |
|  12  |    delFlag    | String | YES  |          删除标志（0代表存在 2代表删除）           |                |
|  13  |    loginIp    | String | YES  |                     最后登陆IP                     |                |
|  14  |   loginDate   |  Date  | YES  |                    最后登陆时间                    |                |
|  15  |   createBy    | String | YES  |                       创建者                       |                |
|  16  |  createTime   |  Date  | YES  |                      创建时间                      |                |
|  17  |   updateBy    | String | YES  |                       更新者                       |                |
|  18  |  updateTime   |  Date  | YES  |                      更新时间                      |                |
|  19  |    remark     | String | YES  |                        备注                        |                |
|  20  | currentPoints |  Long  | YES  |                      当前积分                      |                |
|  21  |    version    |  Long  | YES  |                       版本号                       |                |

* 案例

```json
{
  "total": 62,
  "rows": [
    {
      "searchValue": null,
      "createBy": "zhengrong8",
      "createTime": "2020-05-19 22:08:20",
      "updateBy": "zhengrong8",
      "updateTime": "2020-05-19 22:08:20",
      "version": 0,
      "delFlag": "0",
      "remark": null,
      "dataScope": null,
      "params": {},
      "userId": 479,
      "deptId": 113,
      "userName": "wdtest2",
      "nickName": "王东",
      "userType": "01",
      "email": "33333333@qq.com",
      "phonenumber": "15133333333",
      "sex": "0",
      "avatar": "",
      "password": "$2a$10$Dy3FlXMGaFhPA.v/7fmVbeZswfY4qVozLrf6qbdHSqS3riq9o.vzO",
      "status": "0",
      "loginIp": "",
      "loginDate": null,
      "currentPoints": 0
    },
    {
      "searchValue": null,
      "createBy": "zhengrong8",
      "createTime": "2020-05-19 22:07:53",
      "updateBy": "zhengrong8",
      "updateTime": "2020-05-19 22:07:53",
      "version": 0,
      "delFlag": "0",
      "remark": null,
      "dataScope": null,
      "params": {},
      "userId": 478,
      "deptId": 113,
      "userName": "wdtest1",
      "nickName": "王东",
      "userType": "01",
      "email": "22222222@qq.com",
      "phonenumber": "15122222222",
      "sex": "0",
      "avatar": "",
      "password": "$2a$10$SqCbLOP65dlzGdJ6gTuNoenrjz.63BZF2Eso5e2kjmCWjn//jYXkG",
      "status": "0",
      "loginIp": "",
      "loginDate": null,
      "currentPoints": 0
    }
  ],
  "code": 200,
  "msg": 0
}

{
	"msg": "查询成功",
	"code": 200,
    "total": 0,
    "rows":[]
}
```

#### 5.3.2.2 用户新增

##### 接入方式

```java
backend/user/create
POST
[body]
```

##### 请求参数

|   参数名称    |    参数类型     |       参数含义       | 可为空 |                             备注                             |
| :-----------: | :-------------: | :------------------: | :----: | :----------------------------------------------------------: |
| Authorization | Request Headers | 令牌自定义Header标识 |   NO   | 内容必须以“Bearer ”开头<br>（注意有个空格），<br>拼接登录取得的token |
|   userName    |     String      |         账号         |   NO   |                最大长度16，只能包含英文和数字                |
|   nickName    |     String      |         姓名         |   NO   |                          最大长度10                          |
|  phonenumber  |     String      |        手机号        |   NO   |                          最大长度11                          |
|     email     |     String      |         邮箱         |   NO   |                    前端正则校验邮箱有效性                    |
|      sex      |     Integer     | 性别（0：男；1：女） |   NO   |                                                              |

- 案例

```json
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6ImI0MjIyYzYyLTNmOWItNGJlNy1hMzViLTc3OGQ4YTc2OWY0MiJ9.F2eYebDUX4J1R1kGuzszpRKLqB7apgw0VzI77xtE3ZpXwLDKicYmm-lKcPzRAZOui0Wk_nz_SS_2cxO9_5jWsQ

{
	"userName": "wangdong",
	"nickName": "王东",
	"phonenumber": "15142815248",
	"email": "249627569@qq.com",
	"sex": "0"
}
```

##### 响应信息（AjaxResult）

| 参数名称 | 参数类型 |  参数含义  |   备注   |
| :------: | :------: | :--------: | :------: |
|   code   |  Object  | 消息状态码 | 一定存在 |
|   msg    |  Object  |  返回信息  | 一定存在 |

* 案例

```json
{
	"msg": "新增成功",
	"code": 200
}
{
	"msg": "新增失败",
	"code": 500
}
```


#### 5.3.2.3 用户编辑

##### 接入方式

```java
backend/user/update
PUT
[body]
```

##### 请求参数

|   参数名称    |    参数类型     |       参数含义       | 可为空 |                             备注                             |
| :-----------: | :-------------: | :------------------: | :----: | :----------------------------------------------------------: |
| Authorization | Request Headers | 令牌自定义Header标识 |   NO   | 内容必须以“Bearer ”开头<br>（注意有个空格），<br>拼接登录取得的token |
|    userId     |      Long       |        用户id        |   NO   |                                                              |
|   nickName    |     String      |         姓名         |   NO   |                          最大长度10                          |
|  phonenumber  |     String      |        手机号        |   NO   |                          最大长度11                          |
|     email     |     String      |         邮箱         |   NO   |                    前端正则校验邮箱有效性                    |
|      sex      |     Integer     | 性别（0：男；1：女） |   NO   |                                                              |
|    version    |      Long       |        版本号        |   NO   |                    版本号，做乐观锁，必传                    |

- 案例

```json
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6ImI0MjIyYzYyLTNmOWItNGJlNy1hMzViLTc3OGQ4YTc2OWY0MiJ9.F2eYebDUX4J1R1kGuzszpRKLqB7apgw0VzI77xtE3ZpXwLDKicYmm-lKcPzRAZOui0Wk_nz_SS_2cxO9_5jWsQ

{
	"userId": "3",
	"nickName": "王东",
	"phonenumber": "15142815248",
	"email": "249627569@qq.com",
	"sex": "0",
    "version": 1
}
```

##### 响应信息（AjaxResult）

| 参数名称 | 参数类型 |  参数含义  |   备注   |
| :------: | :------: | :--------: | :------: |
|   code   |  Object  | 消息状态码 | 一定存在 |
|   msg    |  Object  |  返回信息  | 一定存在 |

* 案例

```json
{
	"msg": "修改成功",
	"code": 200
}
{
	"msg": "修改失败",
	"code": 500
}
```


#### 5.3.2.4 用户删除

##### 接入方式

```java
backend/user/delete/{userIds}
DELETE
[path]
```

##### 请求参数

|   参数名称    |    参数类型     |       参数含义       | 可为空 |                             备注                             |
| :-----------: | :-------------: | :------------------: | :----: | :----------------------------------------------------------: |
| Authorization | Request Headers | 令牌自定义Header标识 |   NO   | 内容必须以“Bearer ”开头<br>（注意有个空格），<br>拼接登录取得的token |
|    userIds    |     Long[]      | 需要删除的用户ID数组 |   NO   |                                                              |

- 案例

```json
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6ImI0MjIyYzYyLTNmOWItNGJlNy1hMzViLTc3OGQ4YTc2OWY0MiJ9.F2eYebDUX4J1R1kGuzszpRKLqB7apgw0VzI77xtE3ZpXwLDKicYmm-lKcPzRAZOui0Wk_nz_SS_2cxO9_5jWsQ

backend/user/delete/101,102,103

backend/user/delete/101
```

##### 响应信息（AjaxResult）

| 参数名称 | 参数类型 |  参数含义  |   备注   |
| :------: | :------: | :--------: | :------: |
|   code   |  Object  | 消息状态码 | 一定存在 |
|   msg    |  Object  |  返回信息  | 一定存在 |

* 案例

```json
{
	"msg": "删除成功",
	"code": 200
}
{
	"msg": "删除失败",
	"code": 500
}
```


#### 5.3.2.5 用户重置密码

##### 接入方式

```java
backend/user/reset/{userIds}
PUT
[path]
```

##### 请求参数

|   参数名称    |    参数类型     |         参数含义         | 可为空 |                             备注                             |
| :-----------: | :-------------: | :----------------------: | :----: | :----------------------------------------------------------: |
| Authorization | Request Headers |   令牌自定义Header标识   |   NO   | 内容必须以“Bearer ”开头<br>（注意有个空格），<br>拼接登录取得的token |
|    userIds    |     Long[]      | 需要充值密码的用户ID数组 |   NO   |                                                              |

- 案例

```json
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6ImI0MjIyYzYyLTNmOWItNGJlNy1hMzViLTc3OGQ4YTc2OWY0MiJ9.F2eYebDUX4J1R1kGuzszpRKLqB7apgw0VzI77xtE3ZpXwLDKicYmm-lKcPzRAZOui0Wk_nz_SS_2cxO9_5jWsQ

backend/user/reset/101,102,103

backend/user/reset/101
```

##### 响应信息（AjaxResult）

| 参数名称 | 参数类型 |  参数含义  |   备注   |
| :------: | :------: | :--------: | :------: |
|   code   |  Object  | 消息状态码 | 一定存在 |
|   msg    |  Object  |  返回信息  | 一定存在 |

* 案例

```json
{
	"msg": "密码重置成功",
	"code": 200
}
{
	"msg": "密码重置失败",
	"code": 500
}
```

#### 5.3.2.6 用户启用/停用

##### 接入方式

```java
backend/user/{operate}/{userIds}
PUT
[path]
```

##### 请求参数

|   参数名称    |    参数类型     |                  参数含义                   | 可为空 |                             备注                             |
| :-----------: | :-------------: | :-----------------------------------------: | :----: | :----------------------------------------------------------: |
| Authorization | Request Headers |            令牌自定义Header标识             |   NO   | 内容必须以“Bearer ”开头<br>（注意有个空格），<br>拼接登录取得的token |
|    operate    |     String      | 操作类型（"enable"：启用；"disable"：停用） |   NO   |                                                              |
|    userIds    |     Long[]      |          需要启用/停用的用户ID数组          |   NO   |                                                              |

- 案例

```json
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6ImI0MjIyYzYyLTNmOWItNGJlNy1hMzViLTc3OGQ4YTc2OWY0MiJ9.F2eYebDUX4J1R1kGuzszpRKLqB7apgw0VzI77xtE3ZpXwLDKicYmm-lKcPzRAZOui0Wk_nz_SS_2cxO9_5jWsQ

backend/user/disable/101,102,103

backend/user/enable/101
```

##### 响应信息（AjaxResult）

| 参数名称 | 参数类型 |  参数含义  |   备注   |
| :------: | :------: | :--------: | :------: |
|   code   |  Object  | 消息状态码 | 一定存在 |
|   msg    |  Object  |  返回信息  | 一定存在 |

* 案例

```json
{
	"msg": "启用成功",
	"code": 200
}
{
	"msg": "停用成功",
	"code": 200
}
{
	"msg": "启用失败",
	"code": 500
}
{
	"msg": "停用失败",
	"code": 500
}
```

### 5.3.3 客户管理

#### 5.3.3.1 客户列表（分页）

##### 接入方式

```java
backend/customer/list
GET
```

##### 请求参数

|   参数名称    |    参数类型     |       参数含义       | 可为空 |                             备注                             |
| :-----------: | :-------------: | :------------------: | :----: | :----------------------------------------------------------: |
| Authorization | Request Headers | 令牌自定义Header标识 |   NO   | 内容必须以“Bearer ”开头<br>（注意有个空格），<br>拼接登录取得的token |
|    pageNum    |     Integer     |       当前页数       |   NO   |                         默认页码为1                          |
|   pageSize    |     Integer     |    每页显示记录数    |   NO   |                       默认每页显示10条                       |
|  searchValue  |     String      |       查询参数       |  YES   |      输入姓名、客户帐号、手机号、邮箱都可进行右模糊查询      |

- 案例

```json
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6ImI0MjIyYzYyLTNmOWItNGJlNy1hMzViLTc3OGQ4YTc2OWY0MiJ9.F2eYebDUX4J1R1kGuzszpRKLqB7apgw0VzI77xtE3ZpXwLDKicYmm-lKcPzRAZOui0Wk_nz_SS_2cxO9_5jWsQ

pageNum=1&pageSize=10&searchValue=wangdong

pageNum=1&pageSize=10
```

##### 响应信息（TableDataInfo）

| 序号 |      字段       |    含义    |    备注    |
| :--: | :-------------: | :--------: | :--------: |
|  1   |   long total    |  总记录数  |  一定存在  |
|  2   | List<User> rows |  列表数据  |  一定存在  |
|  3   |    int code     | 消息状态码 |  一定存在  |
|  4   |   String msg    |  消息内容  | 不一定存在 |

* **User**

|  No  |     字段      |  类型  |  空  |                        注释                        |      备注      |
| :--: | :-----------: | :----: | :--: | :------------------------------------------------: | :------------: |
|  1   |    userId     |  Long  |  NO  |                       用户ID                       | auto_increment |
|  2   |    deptId     |  Long  | YES  |                       部门ID                       |                |
|  3   |   userName    | String |  NO  |                      用户账号                      |                |
|  4   |   nickName    | String |  NO  |                      用户姓名                      |                |
|  5   |   userType    | String | YES  | 用户类型（00系统用户；01后台端用户；02手机端用户） |                |
|  6   |     email     | String | YES  |                      用户邮箱                      |                |
|  7   |  phonenumber  | String | YES  |                      手机号码                      |                |
|  8   |      sex      | String | YES  |             用户性别（0男 1女 2未知）              |                |
|  9   |    avatar     | String | YES  |                      头像地址                      |                |
|  10  |   password    | String | YES  |                        密码                        |                |
|  11  |    status     | String | YES  |              帐号状态（0正常 1停用）               |                |
|  12  |    delFlag    | String | YES  |          删除标志（0代表存在 2代表删除）           |                |
|  13  |    loginIp    | String | YES  |                     最后登陆IP                     |                |
|  14  |   loginDate   |  Date  | YES  |                    最后登陆时间                    |                |
|  15  |   createBy    | String | YES  |                       创建者                       |                |
|  16  |  createTime   |  Date  | YES  |                      创建时间                      |                |
|  17  |   updateBy    | String | YES  |                       更新者                       |                |
|  18  |  updateTime   |  Date  | YES  |                      更新时间                      |                |
|  19  |    remark     | String | YES  |                        备注                        |                |
|  20  | currentPoints |  Long  | YES  |                      当前积分                      |                |
|  21  |    version    |  Long  | YES  |                       版本号                       |                |

* 案例

```json
{
  "total": 126,
  "rows": [
    {
      "searchValue": null,
      "createBy": "appRegist",
      "createTime": "2020-05-14 19:21:24",
      "updateBy": "apptest123",
      "updateTime": "2020-05-19 22:16:27",
      "version": 3,
      "delFlag": "0",
      "remark": null,
      "dataScope": null,
      "params": {},
      "userId": 363,
      "deptId": 114,
      "userName": "apptest123",
      "nickName": "凉水也塞牙",
      "userType": "02",
      "email": "15101110002@qq.com",
      "phonenumber": "15100123002",
      "sex": "0",
      "avatar": "",
      "password": "$2a$10$A/4SZaf9NILGiGVllD5KresL3AS8.qXCAWXYG7SwjDq9qbCaVqWj.",
      "status": "0",
      "loginIp": "",
      "loginDate": null,
      "currentPoints": 19988
    },
    {
      "searchValue": null,
      "createBy": "appRegist",
      "createTime": "2020-05-15 17:14:14",
      "updateBy": "987",
      "updateTime": "2020-05-19 22:13:44",
      "version": 30,
      "delFlag": "0",
      "remark": null,
      "dataScope": null,
      "params": {},
      "userId": 400,
      "deptId": 114,
      "userName": "test",
      "nickName": "测试注册",
      "userType": "02",
      "email": "23123@qq.com",
      "phonenumber": "18345257845",
      "sex": "0",
      "avatar": "",
      "password": "$2a$10$OnbRXLyyeyccpgcNxEMygeKoI1OSYQwuP5JZFwBuv9zLPFtMgaJfi",
      "status": "0",
      "loginIp": "",
      "loginDate": null,
      "currentPoints": 19778
    }
  ],
  "code": 200,
  "msg": 0
}


{
	"msg": "查询成功",
	"code": 200,
    "total": 0,
    "rows":[]
}
```

#### 5.3.3.2 客户新增

##### 接入方式

```java
backend/customer/create
POST
[body]
```

##### 请求参数

|   参数名称    |    参数类型     |       参数含义       | 可为空 |                             备注                             |
| :-----------: | :-------------: | :------------------: | :----: | :----------------------------------------------------------: |
| Authorization | Request Headers | 令牌自定义Header标识 |   NO   | 内容必须以“Bearer ”开头<br>（注意有个空格），<br>拼接登录取得的token |
|   userName    |     String      |         账号         |   NO   |                最大长度16，只能包含英文和数字                |
|   nickName    |     String      |         姓名         |   NO   |                          最大长度10                          |
|  phonenumber  |     String      |        手机号        |   NO   |                          最大长度11                          |
|     email     |     String      |         邮箱         |   NO   |                    前端正则校验邮箱有效性                    |
|      sex      |     Integer     | 性别（0：男；1：女） |   NO   |                                                              |

- 案例

```json
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6ImI0MjIyYzYyLTNmOWItNGJlNy1hMzViLTc3OGQ4YTc2OWY0MiJ9.F2eYebDUX4J1R1kGuzszpRKLqB7apgw0VzI77xtE3ZpXwLDKicYmm-lKcPzRAZOui0Wk_nz_SS_2cxO9_5jWsQ

{
	"userName": "wangdong",
	"nickName": "王东",
	"phonenumber": "15142815248",
	"email": "249627569@qq.com",
	"sex": "0"
}
```

##### 响应信息（AjaxResult）

| 参数名称 | 参数类型 |  参数含义  |   备注   |
| :------: | :------: | :--------: | :------: |
|   code   |  Object  | 消息状态码 | 一定存在 |
|   msg    |  Object  |  返回信息  | 一定存在 |

* 案例

```json
{
	"msg": "新增成功",
	"code": 200
}
{
	"msg": "新增失败",
	"code": 500
}
```


#### 5.3.3.3 客户编辑

##### 接入方式

```java
backend/customer/update
PUT
[body]
```

##### 请求参数

|   参数名称    |    参数类型     |       参数含义       | 可为空 |                             备注                             |
| :-----------: | :-------------: | :------------------: | :----: | :----------------------------------------------------------: |
| Authorization | Request Headers | 令牌自定义Header标识 |   NO   | 内容必须以“Bearer ”开头<br>（注意有个空格），<br>拼接登录取得的token |
|    userId     |      Long       |        用户id        |   NO   |                                                              |
|   nickName    |     String      |         姓名         |   NO   |                          最大长度10                          |
|  phonenumber  |     String      |        手机号        |   NO   |                          最大长度11                          |
|     email     |     String      |         邮箱         |   NO   |                    前端正则校验邮箱有效性                    |
|      sex      |     Integer     | 性别（0：男；1：女） |   NO   |                                                              |
|    version    |      Long       |        版本号        |   NO   |                    版本号，做乐观锁，必传                    |

- 案例

```json
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6ImI0MjIyYzYyLTNmOWItNGJlNy1hMzViLTc3OGQ4YTc2OWY0MiJ9.F2eYebDUX4J1R1kGuzszpRKLqB7apgw0VzI77xtE3ZpXwLDKicYmm-lKcPzRAZOui0Wk_nz_SS_2cxO9_5jWsQ

{
	"userId": "3",
	"nickName": "王东",
	"phonenumber": "15142815248",
	"email": "249627569@qq.com",
	"sex": "0",
	"version": 1
}
```

##### 响应信息（AjaxResult）

| 参数名称 | 参数类型 |  参数含义  |   备注   |
| :------: | :------: | :--------: | :------: |
|   code   |  Object  | 消息状态码 | 一定存在 |
|   msg    |  Object  |  返回信息  | 一定存在 |

* 案例

```json
{
	"msg": "修改成功",
	"code": 200
}
{
	"msg": "修改失败",
	"code": 500
}
```


#### 5.3.3.4 客户删除

##### 接入方式

```java
backend/customer/delete/{userIds}
DELETE
[path]
```

##### 请求参数

|   参数名称    |    参数类型     |       参数含义       | 可为空 |                             备注                             |
| :-----------: | :-------------: | :------------------: | :----: | :----------------------------------------------------------: |
| Authorization | Request Headers | 令牌自定义Header标识 |   NO   | 内容必须以“Bearer ”开头<br>（注意有个空格），<br>拼接登录取得的token |
|    userIds    |     Long[]      | 需要删除的用户ID数组 |   NO   |                                                              |

- 案例

```json
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6ImI0MjIyYzYyLTNmOWItNGJlNy1hMzViLTc3OGQ4YTc2OWY0MiJ9.F2eYebDUX4J1R1kGuzszpRKLqB7apgw0VzI77xtE3ZpXwLDKicYmm-lKcPzRAZOui0Wk_nz_SS_2cxO9_5jWsQ

backend/customer/delete/101,102,103

backend/customer/delete/101
```

##### 响应信息（AjaxResult）

| 参数名称 | 参数类型 |  参数含义  |   备注   |
| :------: | :------: | :--------: | :------: |
|   code   |  Object  | 消息状态码 | 一定存在 |
|   msg    |  Object  |  返回信息  | 一定存在 |

* 案例

```json
{
	"msg": "删除成功",
	"code": 200
}
{
	"msg": "删除失败",
	"code": 500
}
```


#### 5.3.3.5 客户重置密码

##### 接入方式

```java
backend/customer/reset/{userIds}
PUT
[path]
```

##### 请求参数

|   参数名称    |    参数类型     |         参数含义         | 可为空 |                             备注                             |
| :-----------: | :-------------: | :----------------------: | :----: | :----------------------------------------------------------: |
| Authorization | Request Headers |   令牌自定义Header标识   |   NO   | 内容必须以“Bearer ”开头<br>（注意有个空格），<br>拼接登录取得的token |
|    userIds    |     Long[]      | 需要充值密码的用户ID数组 |   NO   |                                                              |

- 案例

```json
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6ImI0MjIyYzYyLTNmOWItNGJlNy1hMzViLTc3OGQ4YTc2OWY0MiJ9.F2eYebDUX4J1R1kGuzszpRKLqB7apgw0VzI77xtE3ZpXwLDKicYmm-lKcPzRAZOui0Wk_nz_SS_2cxO9_5jWsQ

backend/customer/reset/101,102,103

backend/customer/reset/101
```

##### 响应信息（AjaxResult）

| 参数名称 | 参数类型 |  参数含义  |   备注   |
| :------: | :------: | :--------: | :------: |
|   code   |  Object  | 消息状态码 | 一定存在 |
|   msg    |  Object  |  返回信息  | 一定存在 |

* 案例

```json
{
	"msg": "密码重置成功",
	"code": 200
}
{
	"msg": "密码重置失败",
	"code": 500
}
```

#### 5.3.3.6 客户启用/停用

##### 接入方式

```java
backend/customer/{operate}/{userIds}
PUT
[path]
```

##### 请求参数

|   参数名称    |    参数类型     |                  参数含义                   | 可为空 |                             备注                             |
| :-----------: | :-------------: | :-----------------------------------------: | :----: | :----------------------------------------------------------: |
| Authorization | Request Headers |            令牌自定义Header标识             |   NO   | 内容必须以“Bearer ”开头<br>（注意有个空格），<br>拼接登录取得的token |
|    operate    |     String      | 操作类型（"enable"：启用；"disable"：停用） |   NO   |                                                              |
|    userIds    |     Long[]      |          需要启用/停用的用户ID数组          |   NO   |                                                              |

- 案例

```json
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6ImI0MjIyYzYyLTNmOWItNGJlNy1hMzViLTc3OGQ4YTc2OWY0MiJ9.F2eYebDUX4J1R1kGuzszpRKLqB7apgw0VzI77xtE3ZpXwLDKicYmm-lKcPzRAZOui0Wk_nz_SS_2cxO9_5jWsQ

backend/customer/disable/101,102,103

backend/customer/enable/101
```

##### 响应信息（AjaxResult）

| 参数名称 | 参数类型 |  参数含义  |   备注   |
| :------: | :------: | :--------: | :------: |
|   code   |  Object  | 消息状态码 | 一定存在 |
|   msg    |  Object  |  返回信息  | 一定存在 |

* 案例

```json
{
	"msg": "启用成功",
	"code": 200
}
{
	"msg": "停用成功",
	"code": 200
}
{
	"msg": "启用失败",
	"code": 500
}
{
	"msg": "停用失败",
	"code": 500
}
```

### 5.3.4 箱子规格

#### 5.3.4.1 箱子规格列表（分页）

##### 接入方式

```java
backend/box/standard/list
GET
```

##### 请求参数

|   参数名称    |    参数类型     |       参数含义       | 可为空 |                             备注                             |
| :-----------: | :-------------: | :------------------: | :----: | :----------------------------------------------------------: |
| Authorization | Request Headers | 令牌自定义Header标识 |   NO   | 内容必须以“Bearer ”开头<br>（注意有个空格），<br>拼接登录取得的token |
|    pageNum    |     Integer     |       当前页数       |   NO   |                         默认页码为1                          |
|   pageSize    |     Integer     |    每页显示记录数    |   NO   |                       默认每页显示10条                       |
|  searchValue  |     String      |       查询参数       |  YES   |                   箱子规格可进行右模糊查询                   |

- 案例

```json
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6ImI0MjIyYzYyLTNmOWItNGJlNy1hMzViLTc3OGQ4YTc2OWY0MiJ9.F2eYebDUX4J1R1kGuzszpRKLqB7apgw0VzI77xtE3ZpXwLDKicYmm-lKcPzRAZOui0Wk_nz_SS_2cxO9_5jWsQ

pageNum=1&pageSize=10&searchValue=30*30*30

pageNum=1&pageSize=10
```

##### 响应信息（TableDataInfo）

| 序号 |           字段           |    含义    |    备注    |
| :--: | :----------------------: | :--------: | :--------: |
|  1   |        long total        |  总记录数  |  一定存在  |
|  2   | List<BoxStandardVO> rows |  列表数据  |  一定存在  |
|  3   |         int code         | 消息状态码 |  一定存在  |
|  4   |        String msg        |  消息内容  | 不一定存在 |

* **BoxStandardVO**

|  No  |      字段       |  类型  |  空  |                 注释                 |          备注          |
| :--: | :-------------: | :----: | :--: | :----------------------------------: | :--------------------: |
|  1   |       id        |  Long  |  NO  |                  id                  |     auto_increment     |
|  2   |   boxStandard   | String |  NO  |       箱子规格（如`20*20*20`）       |                        |
|  3   |  boxUnitPrice   |  Long  |  NO  |     箱子积分单价（每月积分单价）     |                        |
|  4   |     remark      | String |  NO  |                 备注                 |                        |
|  5   |     sortNo      |  Long  | YES  |                 序号                 |                        |
|  6   |   createTime    |  Date  |  NO  |               创建时间               |                        |
|  7   |    createBy     | String |  NO  |                创建人                |                        |
|  8   |   updateTime    |  Date  | YES  |               更新时间               |                        |
|  9   |    updateBy     | String | YES  |                更新人                |                        |
|  10  |     version     |  Long  |  NO  |                版本号                |                        |
|  11  |     delFlag     | String |  NO  | 删除标记<br>（0：未删除；2：已删除） |                        |
|  12  |   totalNumber   |  Long  |  NO  |                总数量                | 关联箱子信息表计算得出 |
|  13  |   usedNumber    |  Long  |  NO  |              已使用数量              | 关联箱子信息表计算得出 |
|  14  | inventoryNumber |  Long  |  NO  |               库存数量               | 关联箱子信息表计算得出 |
|  15  |    useRatio     | String |  NO  |               使用比例               | 关联箱子信息表计算得出 |

* 案例

```json
{
	"msg": "查询成功",
	"code": 200,
    "total": 2,
    "rows":[
        {
            "id": 1,
            "boxStandard": "30*30*30",
            "boxUnitPrice": 200,
            "remark": "当前箱子成本比较低",
            "sortNo": 1,
            "createTime": "2018-03-16 11:33:00",
            "createBy": "wangdong",
            "updateTime": "2018-03-16 11:33:00",
            "updateBy": "wangdong",
            "version": 2,
            "delFlag": 0,
            "totalNumber": 1000,
            "usedNumber": 900,
            "inventoryNumber": 100,
            "useRatio": "90%"
        },
        {
            "id": 2,
            "boxStandard": "40*40*40",
            "boxUnitPrice": 300,
            "remark": "当前箱子成本低",
            "sortNo": 1,
            "createTime": "2018-03-16 11:33:00",
            "createBy": "wangdong",
            "updateTime": "2018-03-16 11:33:00",
            "updateBy": "wangdong",
            "version": 2,
            "delFlag": 0,
            "totalNumber": 100,
            "usedNumber": 80,
            "inventoryNumber": 20,
            "useRatio": "80%"
        }
    ]
}
{
	"msg": "查询成功",
	"code": 200,
    "total": 0,
    "rows":[]
}
```

#### 5.3.4.2 箱子规格新增

##### 接入方式

```java
backend/box/standard/create
POST
[body]
```

##### 请求参数

|    参数名称     |    参数类型     |           参数含义           | 可为空 |                             备注                             |
| :-------------: | :-------------: | :--------------------------: | :----: | :----------------------------------------------------------: |
|  Authorization  | Request Headers |     令牌自定义Header标识     |   NO   | 内容必须以“Bearer ”开头<br>（注意有个空格），<br>拼接登录取得的token |
|   boxStandard   |     String      |   箱子规格（如`20*20*20`）   |   NO   | 如果箱子规格已存在，对应积分也相同，则向箱子信息表插入【库存数量】条数据 |
|  boxUnitPrice   |      Long       | 箱子积分单价（每月积分单价） |   NO   |                       大于等于0的整数                        |
| inventoryNumber |      Long       |           库存数量           |   NO   |                       大于等于0的整数                        |
|     remark      |     String      |             备注             |   NO   |                         最大长度256                          |

- 案例

```json
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6ImI0MjIyYzYyLTNmOWItNGJlNy1hMzViLTc3OGQ4YTc2OWY0MiJ9.F2eYebDUX4J1R1kGuzszpRKLqB7apgw0VzI77xtE3ZpXwLDKicYmm-lKcPzRAZOui0Wk_nz_SS_2cxO9_5jWsQ

{
    "boxStandard": "30*30*30",
    "boxUnitPrice": 200,
    "inventoryNumber": 100,
    "remark": "30*30*30规格箱，添加100库存"
}
```

##### 响应信息（AjaxResult）

| 参数名称 | 参数类型 |  参数含义  |   备注   |
| :------: | :------: | :--------: | :------: |
|   code   |  Object  | 消息状态码 | 一定存在 |
|   msg    |  Object  |  返回信息  | 一定存在 |

* 案例

```json
{
	"msg": "新增成功",
	"code": 200
}
{
	"msg": "新增失败",
	"code": 500
}
```

#### 5.3.4.3 箱子规格删除

##### 接入方式

```java
backend/box/standard/delete/{ids}
DELETE
[path]
```

##### 请求参数

|   参数名称    |    参数类型     |         参数含义         | 可为空 |                             备注                             |
| :-----------: | :-------------: | :----------------------: | :----: | :----------------------------------------------------------: |
| Authorization | Request Headers |   令牌自定义Header标识   |   NO   | 内容必须以“Bearer ”开头<br>（注意有个空格），<br>拼接登录取得的token |
|      ids      |     Long[]      | 需要删除的箱子规格ID数组 |   NO   |                                                              |

- 案例

```json
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6ImI0MjIyYzYyLTNmOWItNGJlNy1hMzViLTc3OGQ4YTc2OWY0MiJ9.F2eYebDUX4J1R1kGuzszpRKLqB7apgw0VzI77xtE3ZpXwLDKicYmm-lKcPzRAZOui0Wk_nz_SS_2cxO9_5jWsQ

backend/box/standard/delete/1,2,3,4

backend/box/standard/delete/1
```

##### 响应信息（AjaxResult）

| 参数名称 | 参数类型 |  参数含义  |   备注   |
| :------: | :------: | :--------: | :------: |
|   code   |  Object  | 消息状态码 | 一定存在 |
|   msg    |  Object  |  返回信息  | 一定存在 |

* 案例

```json
{
	"msg": "删除成功",
	"code": 200
}
{
	"msg": "删除失败",
	"code": 500
}
```

#### 5.3.4.4 箱子规格下拉列表（非分页）

##### 接入方式

```java
backend/box/standard/select
GET
```

##### 请求参数

|   参数名称    |    参数类型     |       参数含义       | 可为空 |                             备注                             |
| :-----------: | :-------------: | :------------------: | :----: | :----------------------------------------------------------: |
| Authorization | Request Headers | 令牌自定义Header标识 |   NO   | 内容必须以“Bearer ”开头<br>（注意有个空格），<br>拼接登录取得的token |

- 案例

```json
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6ImI0MjIyYzYyLTNmOWItNGJlNy1hMzViLTc3OGQ4YTc2OWY0MiJ9.F2eYebDUX4J1R1kGuzszpRKLqB7apgw0VzI77xtE3ZpXwLDKicYmm-lKcPzRAZOui0Wk_nz_SS_2cxO9_5jWsQ
```

##### 响应信息（AjaxResult）

| 序号 | String |         Object          |    备注    |
| :--: | :----: | :---------------------: | :--------: |
|  1   |  code  |       消息状态码        |  一定存在  |
|  2   |  msg   |        消息内容         |  一定存在  |
|  3   |  data  | List<BoxStandardSelect> | 不一定存在 |

* **BoxStandardSelect**

|  No  |     字段     |  类型  |  空  |             注释             | 备注 |
| :--: | :----------: | :----: | :--: | :--------------------------: | :--: |
|  1   | boxStandard  | String |  NO  |   箱子规格（如`20*20*20`）   |      |
|  2   | boxUnitPrice |  Long  |  NO  | 箱子积分单价（每月积分单价） |      |

* 案例

```json
{
	"msg": "查询成功",
	"code": 200,
    "data":[
        {
            "boxStandard": "30*30*30",
            "boxUnitPrice": 200
        },
        {
            "boxStandard": "40*40*40",
            "boxUnitPrice": 300
        }
    ]
}
{
	"msg": "查询成功",
	"code": 200,
    "data":[]
}
```

### 5.3.5 箱子信息

#### 5.3.5.1 箱子信息列表（分页）

##### 接入方式

```java
backend/box/info/list
GET
```

##### 请求参数

|   参数名称    |    参数类型     |          参数含义          | 可为空 |                             备注                             |
| :-----------: | :-------------: | :------------------------: | :----: | :----------------------------------------------------------: |
| Authorization | Request Headers |    令牌自定义Header标识    |   NO   | 内容必须以“Bearer ”开头<br>（注意有个空格），<br>拼接登录取得的token |
|    pageNum    |     Integer     |          当前页数          |   NO   |                         默认页码为1                          |
|   pageSize    |     Integer     |       每页显示记录数       |   NO   |                       默认每页显示10条                       |
|  boxStandard  |     String      |          箱子规格          |  YES   |      选择箱子规格<br>（调用箱子规格下拉列表非分页接口）      |
|    isUsed     |     Integer     |          使用状态          |  YES   |      下拉列表（0：未使用；<br>1：已使用；null：请选择）      |
|  usedByName   |     String      | 使用人姓名<br>（用户名称） |  YES   |                  使用人姓名可进行右模糊查询                  |

- 案例

```json
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6ImI0MjIyYzYyLTNmOWItNGJlNy1hMzViLTc3OGQ4YTc2OWY0MiJ9.F2eYebDUX4J1R1kGuzszpRKLqB7apgw0VzI77xtE3ZpXwLDKicYmm-lKcPzRAZOui0Wk_nz_SS_2cxO9_5jWsQ

pageNum=1&pageSize=10&boxStandard=30*30*30&isUsed=0&usedByName=王东

pageNum=1&pageSize=10
```

##### 响应信息（TableDataInfo）

| 序号 |         字段         |    含义    |    备注    |
| :--: | :------------------: | :--------: | :--------: |
|  1   |      long total      |  总记录数  |  一定存在  |
|  2   | List<BoxInfoVO> rows |  列表数据  |  一定存在  |
|  3   |       int code       | 消息状态码 |  一定存在  |
|  4   |      String msg      |  消息内容  | 不一定存在 |

* **BoxInfoVO**

|  No  |     字段     |  类型   |  空  |                 注释                 |      备注      |
| :--: | :----------: | :-----: | :--: | :----------------------------------: | :------------: |
|  1   |      id      |  Long   |  NO  |                  id                  | auto_increment |
|  2   |   boxCode    |  Long   |  NO  |      箱子编号（年月日+6位序列）      |                |
|  3   | boxStandard  | String  |  NO  |       箱子规格（如`20*20*20`）       |                |
|  4   | boxUnitPrice |  Long   |  NO  |     箱子积分单价（每月积分单价）     |                |
|  5   |    usedBy    |  Long   | YES  |           使用人（用户id）           |    可能为空    |
|  6   |  usedByName  | String  | YES  |        使用人姓名（用户名称）        |    可能为空    |
|  7   |    isUsed    | Integer |  NO  |  是否被使用（0：未使用；1：已使用）  |                |
|  8   |    remark    | String  |  NO  |                 备注                 |                |
|  9   |    sortNo    |  Long   | YES  |                 序号                 |                |
|  10  |  createTime  |  Date   |  NO  |               创建时间               |                |
|  11  |   createBy   | String  |  NO  |                创建人                |                |
|  12  |  updateTime  |  Date   | YES  |               更新时间               |                |
|  13  |   updateBy   | String  | YES  |                更新人                |                |
|  14  |   version    |  Long   |  NO  |                版本号                |                |
|  15  |   delFlag    | String  |  NO  | 删除标记<br>（0：未删除；2：已删除） |                |

* 案例

```json
{
	"msg": "查询成功",
	"code": 200,
    "total": 2,
    "rows":[
        {
            "id": 1,
            "boxCode": 20200421000001,
            "boxStandard": "30*30*30",
            "boxUnitPrice": 200,
            "usedBy": 1,
            "usedByName": "王东",
            “isUsed”: 1,
            "remark": "当前箱子成本比较低",
            "sortNo": 1,
            "createTime": "2018-03-16 11:33:00",
            "createBy": "wangdong",
            "updateTime": "2018-03-16 11:33:00",
            "updateBy": "wangdong",
            "version": 2,
            "delFlag": 0
        },
        {
            "id": 2,
            "boxCode": 20200421000002,
            "boxStandard": "40*40*40",
            "boxUnitPrice": 300,
            "usedBy": null,
            "usedByName": null,
            “isUsed”: 0,
            "remark": "当前箱子成本低",
            "sortNo": 1,
            "createTime": "2018-03-16 11:33:00",
            "createBy": "wangdong",
            "updateTime": null,
            "updateBy": null,
            "version": 1,
            "delFlag": 0
        }
    ]
}
{
	"msg": "查询成功",
	"code": 200,
    "total": 0,
    "rows":[]
}
```

#### 5.3.5.2 箱子信息新增

##### 接入方式

```java
backend/box/info/create
POST
[body]
```

##### 请求参数

|   参数名称    |    参数类型     |           参数含义           | 可为空 |                             备注                             |
| :-----------: | :-------------: | :--------------------------: | :----: | :----------------------------------------------------------: |
| Authorization | Request Headers |     令牌自定义Header标识     |   NO   | 内容必须以“Bearer ”开头<br>（注意有个空格），<br>拼接登录取得的token |
|  boxStandard  |     String      |   箱子规格（如`20*20*20`）   |   NO   |        选择箱子规格（调用箱子规格下拉列表非分页接口）        |
| boxUnitPrice  |      Long       | 箱子积分单价（每月积分单价） |   NO   |                      选择箱子规格后带出                      |
|    remark     |     String      |             备注             |   NO   |                         最大长度256                          |

- 案例

```json
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6ImI0MjIyYzYyLTNmOWItNGJlNy1hMzViLTc3OGQ4YTc2OWY0MiJ9.F2eYebDUX4J1R1kGuzszpRKLqB7apgw0VzI77xtE3ZpXwLDKicYmm-lKcPzRAZOui0Wk_nz_SS_2cxO9_5jWsQ

{
    "boxStandard": "30*30*30",
    "boxUnitPrice": 200,
    "remark": "30*30*30规格箱，临时新增1库存"
}
```

##### 响应信息（AjaxResult）

| 参数名称 | 参数类型 |  参数含义  |   备注   |
| :------: | :------: | :--------: | :------: |
|   code   |  Object  | 消息状态码 | 一定存在 |
|   msg    |  Object  |  返回信息  | 一定存在 |

* 案例

```json
{
	"msg": "新增成功",
	"code": 200
}
{
	"msg": "新增失败",
	"code": 500
}
```

#### 5.3.5.3 箱子信息删除

##### 接入方式

```java
backend/box/info/delete/{ids}
DELETE
[path]
```

##### 请求参数

|   参数名称    |    参数类型     |         参数含义         | 可为空 |                             备注                             |
| :-----------: | :-------------: | :----------------------: | :----: | :----------------------------------------------------------: |
| Authorization | Request Headers |   令牌自定义Header标识   |   NO   | 内容必须以“Bearer ”开头<br>（注意有个空格），<br>拼接登录取得的token |
|      ids      |     Long[]      | 需要删除的箱子信息ID数组 |   NO   |                                                              |

- 案例

```json
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6ImI0MjIyYzYyLTNmOWItNGJlNy1hMzViLTc3OGQ4YTc2OWY0MiJ9.F2eYebDUX4J1R1kGuzszpRKLqB7apgw0VzI77xtE3ZpXwLDKicYmm-lKcPzRAZOui0Wk_nz_SS_2cxO9_5jWsQ

backend/box/info/delete/1,2,3,4

backend/box/info/delete/1
```

##### 响应信息（AjaxResult）

| 参数名称 | 参数类型 |  参数含义  |   备注   |
| :------: | :------: | :--------: | :------: |
|   code   |  Object  | 消息状态码 | 一定存在 |
|   msg    |  Object  |  返回信息  | 一定存在 |

* 案例

```json
{
	"msg": "删除成功",
	"code": 200
}
{
	"msg": "删除失败",
	"code": 500
}
```

### 5.3.6 订单管理

#### 5.3.6.1 订单列表（分页）

##### 接入方式

```java
backend/order/list
GET
```

##### 请求参数

|        参数名称        |    参数类型     |       参数含义       | 可为空 |                             备注                             |
| :--------------------: | :-------------: | :------------------: | :----: | :----------------------------------------------------------: |
|     Authorization      | Request Headers | 令牌自定义Header标识 |   NO   | 内容必须以“Bearer ”开头<br>（注意有个空格），<br>拼接登录取得的token |
|        pageNum         |     Integer     |       当前页数       |   NO   |                         默认页码为1                          |
|        pageSize        |     Integer     |    每页显示记录数    |   NO   |                       默认每页显示10条                       |
|        nickName        |     String      |       客户名称       |   NO   |                          右模糊查询                          |
|         status         |     Integer     |       订单状态       |   NO   | 1：待发空箱；<br>2：已发空箱；<br>3：送达空箱；<br>4：待发重箱；<br>5：已存储；<br>6：待发重箱；<br>7：已发重箱；<br>8：送达重箱；<br>9：待收空箱；<br>10：已完成 |
| emptyBoxOrderTimeStart |     String      | 空箱上门下单开始时间 |   NO   |       日期控件<br>格式：yyyy-mm-dd<br>例如：2020-04-02       |
|  emptyBoxOrderTimeEnd  |     String      | 空箱上门下单结束时间 |   NO   |      日期控件<br/>格式：yyyy-mm-dd<br/>例如：2020-04-03      |
| heavyBoxOrderTimeStart |     String      | 重箱提取下单开始时间 |   NO   |      日期控件<br/>格式：yyyy-mm-dd<br/>例如：2020-04-02      |
|  heavyBoxOrderTimeEnd  |     String      | 重箱提取下单结束时间 |   NO   |      日期控件<br/>格式：yyyy-mm-dd<br/>例如：2020-04-03      |

- 案例

```json
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6ImI0MjIyYzYyLTNmOWItNGJlNy1hMzViLTc3OGQ4YTc2OWY0MiJ9.F2eYebDUX4J1R1kGuzszpRKLqB7apgw0VzI77xtE3ZpXwLDKicYmm-lKcPzRAZOui0Wk_nz_SS_2cxO9_5jWsQ

pageNum=1&pageSize=10&nickName=王东&status=1&emptyBoxOrderTimeStart=2020-04-02&emptyBoxOrderTimeEnd=2020-04-03&heavyBoxOrderTimeStart=2020-04-02&heavyBoxOrderTimeEnd=2020-04-03

pageNum=1&pageSize=10
```

##### 响应信息（TableDataInfo）

| 序号 |           字段            |    含义    |    备注    |
| :--: | :-----------------------: | :--------: | :--------: |
|  1   |        long total         |  总记录数  |  一定存在  |
|  2   | List<BackendOrderVO> rows |  列表数据  |  一定存在  |
|  3   |         int code          | 消息状态码 |  一定存在  |
|  4   |        String msg         |  消息内容  | 不一定存在 |

* **BackendOrderVO**

|  No  |         字段         |  类型   |  空  |                             注释                             |        备注        |
| :--: | :------------------: | :-----: | :--: | :----------------------------------------------------------: | :----------------: |
|  1   |          id          |  Long   |  NO  |                              id                              |   auto_increment   |
|  2   |        userId        |  Long   |  NO  |                         手机端用户id                         |                    |
|  3   |       nickName       | String  |  NO  |                           客户名称                           |                    |
|  4   |        status        | Integer |  NO  | 1：待发空箱；<br/>2：已发空箱；<br/>3：送达空箱；<br/>4：待发重箱；<br/>5：已存储；<br/>6：待发重箱；<br/>7：已发重箱；<br/>8：送达重箱；<br/>9：待收空箱；<br/>10：已完成 | 后台端对状态的解读 |
|  5   |      orderCode       |  Long   |  NO  |                  订单编号（年月日+6位序列）                  |                    |
|  6   |      orderName       | String  |  NO  |                           订单名称                           |                    |
|  7   |  emptyBoxOrderTime   |  Date   |  NO  |           空箱上门下单时间（订单状态为1-5，显示）            |                    |
|  8   |  heavyBoxOrderTime   |  Date   | YES  |           重箱提取下单时间（订单状态为6-10，显示）           |                    |
|  9   |   emptyBoxCallName   | String  |  NO  |             空箱上门姓名（订单状态为1-5，显示）              |                    |
|  10  |  emptyBoxCallPhone   | String  |  NO  |             空箱上门电话（订单状态为1-5，显示）              |                    |
|  11  | emptyBoxCallAddress  | String  |  NO  |             空箱上门地址（订单状态为1-5，显示）              |                    |
|  12  |   emptyBoxCallTime   |  Date   |  NO  |         空箱上门时间（年月日，订单状态为1-5，显示）          |                    |
|  13  | emptyBoxCallInterval | String  |  NO  |      空箱上门时段（如09:00-13:00，订单状态为1-5，显示）      |                    |
|  14  |   heavyBoxCallName   | String  | YES  |             重箱提取姓名（订单状态为6-10，显示）             |                    |
|  15  |  heavyBoxCallPhone   | String  | YES  |             重箱提取电话（订单状态为6-10，显示）             |                    |
|  16  | heavyBoxCallAddress  | String  | YES  |             重箱提取地址（订单状态为6-10，显示）             |                    |
|  17  |   heavyBoxCallTime   |  Date   | YES  |         重箱提取时间（年月日，订单状态为6-10，显示）         |                    |
|  18  | heavyBoxCallInterval | String  | YES  |     重箱提取时段（如09:00-13:00，订单状态为6-10，显示）      |                    |
|  19  |        boxId         |  Long   |  NO  |                            箱子id                            |                    |
|  20  |       boxCode        |  Long   |  NO  |                  箱子编号（年月日+6位序列）                  |                    |
|  21  |     boxStandard      | String  |  NO  |                    箱子规格（如20*20*20）                    |                    |
|  22  |     boxUnitPrice     |  Long   |  NO  |                 箱子积分单价（每月积分单价）                 |                    |
|  23  |    leaseDuration     | Integer |  NO  |                        租赁时长（月）                        |                    |
|  24  |      totalPrice      |  Long   |  NO  |                           实付积分                           |                    |
|  25  |        sortNo        |  Long   | YES  |                             序号                             |                    |
|  26  |      createTime      |  Date   |  NO  |                           创建时间                           |                    |
|  27  |       createBy       | String  |  NO  |                            创建人                            |                    |
|  28  |      updateTime      |  Date   | YES  |                           更新时间                           |                    |
|  29  |       updateBy       | String  | YES  |                            更新人                            |                    |
|  30  |       version        |  Long   |  NO  |                            版本号                            |                    |
|  31  |       delFlag        | String  |  NO  |               删除标记（0：未删除；2：已删除）               |                    |
|  32  |      appDelFlag      | Integer |  NO  |            手机端删除标记（0：未删除；2：已删除）            |                    |
|  33  |    backendDelFlag    | Integer |  NO  |            后台端删除标记（0：未删除；2：已删除）            |                    |

* 案例

```json
{
	"msg": "查询成功",
	"code": 200,
    "total": 1,
    "rows":[
        {
            "id": 1,
            "userId": 1,
            "nickName": "王东",
            "status": 1,
            "orderCode": 20200421000001,
            "orderName": "传家宝",
            "emptyBoxOrderTime": "2018-03-16 11:33:00",
            "heavyBoxOrderTime": "2018-03-17 11:33:00",
            "emptyBoxCallName": "王东",
            "emptyBoxCallPhone": "15142815248",
            "emptyBoxCallAddress": "沈阳市大东区xxx",
            "emptyBoxCallTime": "2018-03-16",
            "emptyBoxCallInterval": "09:00-11:00",
            "heavyBoxCallName": "王东",
            "heavyBoxCallPhone": "15142815248",
            "heavyBoxCallAddress": "沈阳市大东区xxx",
            "heavyBoxCallTime": "2019-03-16",
            "heavyBoxCallInterval": "09:00-11:00",
            "boxId": 1,
            "boxCode": 20200421000001,
            "boxStandard": "30*30*30",
            "boxUnitPrice": 200,
            "leaseDuration": 12,
            "totalPrice": 2400,
            "sortNo": 1,
            "createTime": "2018-03-16 11:33:00",
            "createBy": "wangdong",
            "updateTime": "2018-03-16 11:33:00",
            "updateBy": "wangdong",
            "version": 2,
            "delFlag": 0,
            "appDelFlag": 0,
            "backendDelFlag": 0
        }
    ]
}
{
	"msg": "查询成功",
	"code": 200,
    "total": 0,
    "rows":[]
}
```

#### 5.3.6.2 订单详情

##### 接入方式

```java
backend/order/info/{id}
GET
[path]
```

##### 请求参数

|   参数名称    |    参数类型     |       参数含义       | 可为空 |                             备注                             |
| :-----------: | :-------------: | :------------------: | :----: | :----------------------------------------------------------: |
| Authorization | Request Headers | 令牌自定义Header标识 |   NO   | 内容必须以“Bearer ”开头<br>（注意有个空格），<br>拼接登录取得的token |
|      id       |      Long       |        订单id        |   NO   |                                                              |


- 案例

```json
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6ImI0MjIyYzYyLTNmOWItNGJlNy1hMzViLTc3OGQ4YTc2OWY0MiJ9.F2eYebDUX4J1R1kGuzszpRKLqB7apgw0VzI77xtE3ZpXwLDKicYmm-lKcPzRAZOui0Wk_nz_SS_2cxO9_5jWsQ

backend/order/info/1
```

##### 响应信息（AjaxResult）

| 参数名称 |    参数类型    |  参数含义  |    备注    |
| :------: | :------------: | :--------: | :--------: |
|   code   |     Object     | 消息状态码 |  一定存在  |
|   msg    |     Object     |  返回信息  |  一定存在  |
|   data   | BackendOrderVO |  订单详情  | 不一定存在 |

* 案例

```json
{
    "msg":"查询成功",
    "code":200,
    "data":{
        "id":1,
        "userId":1,
        "nickName":"王东",
        "status":1,
        "orderCode":20200421000001,
        "orderName":"传家宝",
        "emptyBoxOrderTime":"2018-03-16 11:33:00",
        "heavyBoxOrderTime":"2018-03-17 11:33:00",
        "emptyBoxCallName":"王东",
        "emptyBoxCallPhone":"15142815248",
        "emptyBoxCallAddress":"沈阳市大东区xxx",
        "emptyBoxCallTime":"2018-03-16",
        "emptyBoxCallInterval":"09:00-11:00",
        "heavyBoxCallName":"王东",
        "heavyBoxCallPhone":"15142815248",
        "heavyBoxCallAddress":"沈阳市大东区xxx",
        "heavyBoxCallTime":"2019-03-16",
        "heavyBoxCallInterval":"09:00-11:00",
        "boxId":1,
        "boxCode":20200421000001,
        "boxStandard":"30*30*30",
        "boxUnitPrice":200,
        "leaseDuration":12,
        "totalPrice":2400,
        "sortNo":1,
        "createTime":"2018-03-16 11:33:00",
        "createBy":"wangdong",
        "updateTime":"2018-03-16 11:33:00",
        "updateBy":"wangdong",
        "version":2,
        "delFlag":0,
        "appDelFlag":0,
        "backendDelFlag":0
    }
}
```

#### 5.3.6.3 订单操作

##### 接入方式

```java
backend/order/operate/{id}/{operate}/{version}
PUT
[path]
[body]
```

##### 请求参数

|   参数名称    |    参数类型     |       参数含义       | 可为空 |                             备注                             |
| :-----------: | :-------------: | :------------------: | :----: | :----------------------------------------------------------: |
| Authorization | Request Headers | 令牌自定义Header标识 |   NO   | 内容必须以“Bearer ”开头<br>（注意有个空格），<br>拼接登录取得的token |
|      id       |      Long       |        订单id        |   NO   |                                                              |
|    operate    |     Integer     |       订单操作       |   NO   | 2：【发送空箱】；<br/>5：【收取重箱】；<br/>7：【发送重箱】；<br/>10：【收取空箱】 |
|    version    |      Long       |        版本号        |   NO   |                    版本号，做乐观锁，必传                    |
|    orderVO    |      body       |       订单信息       |   NO   |                     此处在body传递{}即可                     |

- 案例

```json
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6ImI0MjIyYzYyLTNmOWItNGJlNy1hMzViLTc3OGQ4YTc2OWY0MiJ9.F2eYebDUX4J1R1kGuzszpRKLqB7apgw0VzI77xtE3ZpXwLDKicYmm-lKcPzRAZOui0Wk_nz_SS_2cxO9_5jWsQ

backend/order/operate/1/2/1
{}

backend/order/operate/1/5/1
{}

backend/order/operate/1/7/1
{}

backend/order/operate/1/10/1
{}
```

##### 响应信息（AjaxResult）

| 参数名称 | 参数类型 |  参数含义  |   备注   |
| :------: | :------: | :--------: | :------: |
|   code   |  Object  | 消息状态码 | 一定存在 |
|   msg    |  Object  |  返回信息  | 一定存在 |

* 案例

```json
{
	"msg": "操作成功",
	"code": 200
}
{
	"msg": "操作失败",
	"code": 500
}
{
	"msg": "已有他人优先操作，请刷新后重试",
	"code": 409
}
```

#### 5.3.6.4 订单删除

##### 接入方式

```java
backend/order/delete/{ids}
DELETE
[path]
```

##### 请求参数

|   参数名称    |    参数类型     |       参数含义       | 可为空 |                             备注                             |
| :-----------: | :-------------: | :------------------: | :----: | :----------------------------------------------------------: |
| Authorization | Request Headers | 令牌自定义Header标识 |   NO   | 内容必须以“Bearer ”开头<br>（注意有个空格），<br>拼接登录取得的token |
|      ids      |     Long[]      | 需要删除的订单ID数组 |   NO   |                                                              |

- 案例

```json
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6ImI0MjIyYzYyLTNmOWItNGJlNy1hMzViLTc3OGQ4YTc2OWY0MiJ9.F2eYebDUX4J1R1kGuzszpRKLqB7apgw0VzI77xtE3ZpXwLDKicYmm-lKcPzRAZOui0Wk_nz_SS_2cxO9_5jWsQ

backend/order/delete/1,2,3,4

backend/order/delete/1
```

##### 响应信息（AjaxResult）

| 参数名称 | 参数类型 |  参数含义  |   备注   |
| :------: | :------: | :--------: | :------: |
|   code   |  Object  | 消息状态码 | 一定存在 |
|   msg    |  Object  |  返回信息  | 一定存在 |

* 案例

```json
{
	"msg": "删除成功",
	"code": 200
}
{
	"msg": "删除失败",
	"code": 500
}
```

### 5.3.7 广告管理

#### 5.3.7.1 广告列表（分页）

##### 接入方式

```java
backend/advertisement/list
GET
```

##### 请求参数

|   参数名称    |    参数类型     |       参数含义       | 可为空 |                             备注                             |
| :-----------: | :-------------: | :------------------: | :----: | :----------------------------------------------------------: |
| Authorization | Request Headers | 令牌自定义Header标识 |   NO   | 内容必须以“Bearer ”开头<br>（注意有个空格），<br>拼接登录取得的token |
|    pageNum    |     Integer     |       当前页数       |   NO   |                         默认页码为1                          |
|   pageSize    |     Integer     |    每页显示记录数    |   NO   |                       默认每页显示10条                       |
|  searchValue  |     String      |       查询参数       |  YES   |        广告标题、奖励积分、图片地址都可进行右模糊查询        |

- 案例

```json
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6ImI0MjIyYzYyLTNmOWItNGJlNy1hMzViLTc3OGQ4YTc2OWY0MiJ9.F2eYebDUX4J1R1kGuzszpRKLqB7apgw0VzI77xtE3ZpXwLDKicYmm-lKcPzRAZOui0Wk_nz_SS_2cxO9_5jWsQ

pageNum=1&pageSize=10&searchValue=校园卡

pageNum=1&pageSize=10
```

##### 响应信息（TableDataInfo）

| 序号 |           字段           |    含义    |    备注    |
| :--: | :----------------------: | :--------: | :--------: |
|  1   |        long total        |  总记录数  |  一定存在  |
|  2   | List<Advertisement> rows |  列表数据  |  一定存在  |
|  3   |         int code         | 消息状态码 |  一定存在  |
|  4   |        String msg        |  消息内容  | 不一定存在 |

* **Advertisement**

|  No  |    字段    |  类型   |  空  |               注释               | 备注 |
| :--: | :--------: | :-----: | :--: | :------------------------------: | :--: |
|  1   |     id     |  Long   |  NO  |                id                |      |
|  2   |   title    | String  |  NO  |               标题               |      |
|  3   |  content   | String  |  NO  |               内容               |      |
|  4   |   imgUrl   | String  | YES  |             图片路径             |      |
|  5   |   points   |  Long   |  NO  |             可获积分             |      |
|  6   |  isEnable  | Integer |  NO  |   是否启用（0：启用；1：停用）   |      |
|  7   |   sortNo   | Integer |  NO  |               序号               |      |
|  8   | createTime |  Date   |  NO  |             创建时间             |      |
|  9   |  createBy  | String  |  NO  |              创建人              |      |
|  10  | updateTime |  Date   | YES  |             更新时间             |      |
|  11  |  updateBy  | String  | YES  |              更新人              |      |
|  12  |  version   |  Long   |  NO  |              版本号              |      |
|  13  |  delFlag   | String  |  NO  | 删除标记（0：未删除；2：已删除） |      |

* 案例

```json
{
	"msg": "查询成功",
	"code": 200,
    "total": 2,
    "rows":[
        {
            "id": 1,
            "title": "校园卡",
            "content": "校园卡即将发布，尽情期待",
            "imgUrl": "/profile/upload/2020/04/20/b93224129f7e9177e37b2c13c96d57b0.jpeg",
            "points": 1000,
            "isEnable": 0,
            "sortNo": 1,
            "createTime": "2018-03-16 11:33:00",
            "createBy": "wangdong",
            "updateTime": "2018-03-16 11:33:00",
            "updateBy": "wangdong",
            "version": 2,
            "delFlag": 0
        },
        {
            "id": 2,
            "title": "图书卡",
            "content": "图书卡即将发布，尽情期待",
            "imgUrl": "/profile/upload/2020/04/20/b93224129f7e9177e37b2c13c96d57b0.jpeg",
            "points": 500,
            "isEnable": 0,
            "sortNo": 1,
            "createTime": "2018-03-16 11:33:00",
            "createBy": "wangdong",
            "updateTime": null,
            "updateBy": null,
            "version": 1,
            "delFlag": 0
        }
    ]
}
{
	"msg": "查询成功",
	"code": 200,
    "total": 0,
    "rows":[]
}
```

#### 5.3.7.2 广告新增

##### 接入方式

```java
backend/advertisement/create
POST
[body]
```

##### 请求参数

|   参数名称    |    参数类型     |       参数含义       | 可为空 |                             备注                             |
| :-----------: | :-------------: | :------------------: | :----: | :----------------------------------------------------------: |
| Authorization | Request Headers | 令牌自定义Header标识 |   NO   | 内容必须以“Bearer ”开头<br>（注意有个空格），<br>拼接登录取得的token |
|     title     |     String      |         标题         |   NO   |                          最大长度20                          |
|    content    |     String      |         内容         |   NO   |                         最大长度1000                         |
|    points     |      Long       |       奖励积分       |   NO   |                       大于等于0的整数                        |
|    imgUrl     |     String      |       图片地址       |   NO   |                  上传接口返回（取fileName）                  |
|    sortNo     |     Integer     |         序号         |   NO   |                  显示顺序，大于等于0的整数                   |

- 案例

```json
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6ImI0MjIyYzYyLTNmOWItNGJlNy1hMzViLTc3OGQ4YTc2OWY0MiJ9.F2eYebDUX4J1R1kGuzszpRKLqB7apgw0VzI77xtE3ZpXwLDKicYmm-lKcPzRAZOui0Wk_nz_SS_2cxO9_5jWsQ

{
    "title": "校园卡",
    "content": "校园卡即将发布，尽情期待",
    "imgUrl": "/profile/upload/2020/04/20/b93224129f7e9177e37b2c13c96d57b0.jpeg",
    "points": 1000,
    "sortNo": 1
}
```

##### 响应信息（AjaxResult）

| 参数名称 | 参数类型 |  参数含义  |   备注   |
| :------: | :------: | :--------: | :------: |
|   code   |  Object  | 消息状态码 | 一定存在 |
|   msg    |  Object  |  返回信息  | 一定存在 |

* 案例

```json
{
	"msg": "新增成功",
	"code": 200
}
{
	"msg": "新增失败",
	"code": 500
}
```


#### 5.3.7.3 广告编辑

##### 接入方式

```java
backend/advertisement/update
PUT
[body]
```

##### 请求参数

|   参数名称    |    参数类型     |       参数含义       | 可为空 |                             备注                             |
| :-----------: | :-------------: | :------------------: | :----: | :----------------------------------------------------------: |
| Authorization | Request Headers | 令牌自定义Header标识 |   NO   | 内容必须以“Bearer ”开头<br>（注意有个空格），<br>拼接登录取得的token |
|      id       |      Long       |        广告id        |   NO   |                                                              |
|     title     |     String      |         标题         |   NO   |                          最大长度20                          |
|    content    |     String      |         内容         |   NO   |                         最大长度1000                         |
|    points     |      Long       |       奖励积分       |   NO   |                       大于等于0的整数                        |
|    imgUrl     |     String      |       图片地址       |   NO   |                  上传接口返回（取fileName）                  |
|    sortNo     |     Integer     |         序号         |   NO   |                  显示顺序，大于等于0的整数                   |
|    version    |      Long       |        版本号        |   NO   |                    版本号，做乐观锁，必传                    |


- 案例

```json
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6ImI0MjIyYzYyLTNmOWItNGJlNy1hMzViLTc3OGQ4YTc2OWY0MiJ9.F2eYebDUX4J1R1kGuzszpRKLqB7apgw0VzI77xtE3ZpXwLDKicYmm-lKcPzRAZOui0Wk_nz_SS_2cxO9_5jWsQ

{
    "id": 1,
    "title": "校园卡",
    "content": "校园卡即将发布，尽情期待",
    "imgUrl": "/profile/upload/2020/04/20/b93224129f7e9177e37b2c13c96d57b0.jpeg",
    "points": 1000,
    "sortNo": 2,
    "version": 2
}
```

##### 响应信息（AjaxResult）

| 参数名称 | 参数类型 |  参数含义  |   备注   |
| :------: | :------: | :--------: | :------: |
|   code   |  Object  | 消息状态码 | 一定存在 |
|   msg    |  Object  |  返回信息  | 一定存在 |

* 案例

```json
{
	"msg": "修改成功",
	"code": 200
}
{
	"msg": "修改失败",
	"code": 500
}
```


#### 5.3.7.4 广告删除

##### 接入方式

```java
backend/advertisement/delete/{ids}
DELETE
[path]
```

##### 请求参数

|   参数名称    |    参数类型     |       参数含义       | 可为空 |                             备注                             |
| :-----------: | :-------------: | :------------------: | :----: | :----------------------------------------------------------: |
| Authorization | Request Headers | 令牌自定义Header标识 |   NO   | 内容必须以“Bearer ”开头<br>（注意有个空格），<br>拼接登录取得的token |
|      ids      |     Long[]      | 需要删除的广告ID数组 |   NO   |                                                              |

- 案例

```json
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6ImI0MjIyYzYyLTNmOWItNGJlNy1hMzViLTc3OGQ4YTc2OWY0MiJ9.F2eYebDUX4J1R1kGuzszpRKLqB7apgw0VzI77xtE3ZpXwLDKicYmm-lKcPzRAZOui0Wk_nz_SS_2cxO9_5jWsQ

backend/advertisement/delete/1,2,3,4

backend/advertisement/delete/1
```

##### 响应信息（AjaxResult）

| 参数名称 | 参数类型 |  参数含义  |   备注   |
| :------: | :------: | :--------: | :------: |
|   code   |  Object  | 消息状态码 | 一定存在 |
|   msg    |  Object  |  返回信息  | 一定存在 |

* 案例

```json
{
	"msg": "删除成功",
	"code": 200
}
{
	"msg": "删除失败",
	"code": 500
}
```

#### 5.3.7.5 广告启用/停用

##### 接入方式

```java
backend/advertisement/{operate}/{ids}
PUT
[path]
```

##### 请求参数

|   参数名称    |    参数类型     |                  参数含义                   | 可为空 |                             备注                             |
| :-----------: | :-------------: | :-----------------------------------------: | :----: | :----------------------------------------------------------: |
| Authorization | Request Headers |            令牌自定义Header标识             |   NO   | 内容必须以“Bearer ”开头<br>（注意有个空格），<br>拼接登录取得的token |
|    operate    |     String      | 操作类型（"enable"：启用；"disable"：停用） |   NO   |                                                              |
|      ids      |     Long[]      |          需要启用/停用的广告ID数组          |   NO   |                                                              |

- 案例

```json
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6ImI0MjIyYzYyLTNmOWItNGJlNy1hMzViLTc3OGQ4YTc2OWY0MiJ9.F2eYebDUX4J1R1kGuzszpRKLqB7apgw0VzI77xtE3ZpXwLDKicYmm-lKcPzRAZOui0Wk_nz_SS_2cxO9_5jWsQ

backend/advertisement/disable/1,2,3,4

backend/advertisement/enable/2
```

##### 响应信息（AjaxResult）

| 参数名称 | 参数类型 |  参数含义  |   备注   |
| :------: | :------: | :--------: | :------: |
|   code   |  Object  | 消息状态码 | 一定存在 |
|   msg    |  Object  |  返回信息  | 一定存在 |

* 案例

```json
{
	"msg": "启用成功",
	"code": 200
}
{
	"msg": "停用成功",
	"code": 200
}
{
	"msg": "启用失败",
	"code": 500
}
{
	"msg": "停用失败",
	"code": 500
}
```

### 5.3.8 意见建议

#### 5.3.8.1 意见建议列表（分页）

##### 接入方式

```java
backend/advice/list
GET
```

##### 请求参数

|   参数名称    |    参数类型     |       参数含义       | 可为空 |                             备注                             |
| :-----------: | :-------------: | :------------------: | :----: | :----------------------------------------------------------: |
| Authorization | Request Headers | 令牌自定义Header标识 |   NO   | 内容必须以“Bearer ”开头<br>（注意有个空格），<br>拼接登录取得的token |
|    pageNum    |     Integer     |       当前页数       |   NO   |                         默认页码为1                          |
|   pageSize    |     Integer     |    每页显示记录数    |   NO   |                       默认每页显示10条                       |
|  searchValue  |     String      |       查询参数       |  YES   |              提交人，意见标题都可进行右模糊查询              |

- 案例

```json
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6ImI0MjIyYzYyLTNmOWItNGJlNy1hMzViLTc3OGQ4YTc2OWY0MiJ9.F2eYebDUX4J1R1kGuzszpRKLqB7apgw0VzI77xtE3ZpXwLDKicYmm-lKcPzRAZOui0Wk_nz_SS_2cxO9_5jWsQ

pageNum=1&pageSize=10&searchValue=王东

pageNum=1&pageSize=10
```

##### 响应信息（TableDataInfo）

| 序号 |        字段         |    含义    |    备注    |
| :--: | :-----------------: | :--------: | :--------: |
|  1   |     long total      |  总记录数  |  一定存在  |
|  2   | List<AdviceVO> rows |  列表数据  |  一定存在  |
|  3   |      int code       | 消息状态码 |  一定存在  |
|  4   |     String msg      |  消息内容  | 不一定存在 |

* **AdviceVO**

|  No  |    字段    |  类型  |  空  |               注释               |      备注      |
| :--: | :--------: | :----: | :--: | :------------------------------: | :------------: |
|  1   |     id     |  Long  |  NO  |                id                | auto_increment |
|  2   |   userId   |  Long  |  NO  |           手机端用户id           |                |
|  3   |  nickName  | String |  NO  |               姓名               | 来自sys_user表 |
|  4   |   title    | String |  NO  |               标题               |                |
|  5   |  content   | String |  NO  |               内容               |                |
|  6   |   sortNo   |  Long  | YES  |               序号               |                |
|  7   | createTime |  Date  |  NO  |             创建时间             |                |
|  8   |  createBy  | String |  NO  |              创建人              |                |
|  9   | updateTime |  Date  | YES  |             更新时间             |                |
|  10  |  updateBy  | String | YES  |              更新人              |                |
|  11  |  version   |  Long  |  NO  |              版本号              |                |
|  12  |  delFlag   | String |  NO  | 删除标记（0：未删除；2：已删除） |                |

* 案例

```json
{
	"msg": "查询成功",
	"code": 200,
    "total": 2,
    "rows":[
        {
            "id": 1,
            "userId": 12,
            "nickName": "王东",
            "title": "优化程序运行速度",
            "content": "优化XXX模块的程序运行速度",
            "sortNo": 1,
            "createTime": "2018-03-16 11:33:00",
            "createBy": "wangdong",
            "updateTime": null,
            "updateBy": null,
            "version": 1,
            "delFlag": 0
        },
        {
            "id": 2,
            "userId": 12,
            "nickName": "王东",
            "title": "优化app运行速度",
            "content": "优化appXXX模块的程序运行速度",
            "sortNo": 2,
            "createTime": "2018-03-16 11:33:00",
            "createBy": "wangdong",
            "updateTime": null,
            "updateBy": null,
            "version": 1,
            "delFlag": 0
        }
    ]
}
{
	"msg": "查询成功",
	"code": 200,
    "total": 0,
    "rows":[]
}
```
